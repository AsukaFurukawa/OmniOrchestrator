<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OmniOrchestrator UI Mockup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 25%, #2d1b69 50%, #1e3a8a 75%, #0f172a 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            animation: backgroundShift 20s ease infinite;
            z-index: -1;
        }
        
        @keyframes backgroundShift {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(180deg); }
        }
        
        /* Neon Glass Cards */
        .neon-glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .neon-glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* Premium Gradient Text */
        .premium-gradient-text {
            background: linear-gradient(135deg, #ff6b6b, #ffd93d, #6bcf7f, #4d96ff, #9c88ff, #ff6b6b);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientFlow 3s ease infinite;
            font-weight: 900;
            letter-spacing: -1px;
        }
        
        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* Neon Button */
        .neon-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 15px;
            color: white;
            font-weight: 700;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 15px rgba(102, 126, 234, 0.4),
                0 0 20px rgba(102, 126, 234, 0.2);
        }
        
        .neon-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 
                0 8px 25px rgba(102, 126, 234, 0.6),
                0 0 40px rgba(102, 126, 234, 0.4);
        }
        
        .neon-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }
        
        .neon-btn:hover::before {
            left: 100%;
        }
        
        /* Navigation with Neon Effects */
        .neon-nav {
            background: rgba(15, 15, 35, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .nav-link {
            position: relative;
            color: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
            padding: 12px 20px;
            border-radius: 10px;
        }
        
        .nav-link:hover, .nav-link.active {
            color: #ffffff;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transform: translateY(-2px);
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        .nav-link:hover::after, .nav-link.active::after {
            width: 80%;
        }
        
        /* New Navigation Styles */
        .nav-link-v2 {
            color: #e2e8f0;
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }
        
        .nav-link-v2:hover {
            color: #c084fc;
            text-shadow: 0 0 10px rgba(192, 132, 252, 0.5);
        }
        
        .nav-link-v2.active {
            color: #fff;
            background: rgba(168, 85, 247, 0.2);
            border-color: rgba(168, 85, 247, 0.5);
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
        }
        
        .nav-link-v2::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #a855f7, #ec4899);
            transition: width 0.3s ease;
        }
        
        .nav-link-v2:hover::before {
            width: 100%;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-slideDown {
            animation: slideDown 0.3s ease-out;
        }
        
        /* Metric Cards with Holographic Effect */
        .holographic-card {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%,
                rgba(255, 255, 255, 0.05) 50%,
                rgba(255, 255, 255, 0.02) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid;
            border-image: linear-gradient(135deg, #667eea, #764ba2, #f093fb, #f5576c) 1;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .holographic-card:hover {
            transform: translateY(-8px) rotateX(5deg);
            box-shadow: 
                0 20px 40px rgba(102, 126, 234, 0.3),
                0 0 30px rgba(118, 75, 162, 0.2);
        }
        
        .holographic-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg at 50% 50%, 
                transparent 0deg,
                rgba(102, 126, 234, 0.1) 60deg,
                rgba(118, 75, 162, 0.1) 120deg,
                transparent 180deg,
                rgba(240, 147, 251, 0.1) 240deg,
                rgba(245, 87, 108, 0.1) 300deg,
                transparent 360deg);
            animation: rotate 6s linear infinite;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .holographic-card:hover::before {
            opacity: 1;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Video Creator Special Effects */
        .video-preview-area {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
        }
        
        .video-preview-area::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d, #6bcf7f, #4d96ff, #9c88ff);
            border-radius: inherit;
            z-index: -1;
            animation: borderGlow 3s ease infinite;
        }
        
        @keyframes borderGlow {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        /* Progress Bar Neon Effect */
        .neon-progress {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .neon-progress-bar {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .neon-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: progressShine 1.5s ease infinite;
        }
        
        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Text Glow Effects */
        .glow-text {
            text-shadow: 
                0 0 5px currentColor,
                0 0 10px currentColor,
                0 0 15px currentColor;
        }
        
        /* Tab Transition Effects */
        .page {
            display: none;
            opacity: 0;
            transform: translateY(30px) scale(0.95);
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .page.active {
            display: block;
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        
        /* Login Card Special */
        .login-premium {
            background: linear-gradient(135deg, 
                rgba(15, 15, 35, 0.9) 0%,
                rgba(26, 26, 62, 0.9) 50%,
                rgba(45, 27, 105, 0.9) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        /* Input Field Neon */
        .neon-input {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            transition: all 0.3s ease;
        }
        
        .neon-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.4);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .neon-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* Dropdown Styling Fix */
        select {
            background: rgba(15, 15, 35, 0.9) !important;
            color: white !important;
            border: 2px solid rgba(168, 85, 247, 0.3) !important;
            border-radius: 12px !important;
            padding: 12px 16px !important;
            font-size: 14px !important;
            backdrop-filter: blur(10px) !important;
            appearance: none !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            cursor: pointer !important;
            position: relative !important;
            z-index: 10 !important;
        }
        
        select option {
            background: rgba(15, 15, 35, 0.95) !important;
            color: white !important;
            padding: 8px 12px !important;
            border: none !important;
        }
        
        select:focus {
            outline: none !important;
            border-color: #a855f7 !important;
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.4) !important;
        }
        
        select:hover {
            border-color: rgba(168, 85, 247, 0.5) !important;
            background: rgba(15, 15, 35, 0.95) !important;
        }
        
        /* Fix for company form specifically */
        #companyIndustry, #companySize, #brandVoice, #marketingBudget {
            background: rgba(15, 15, 35, 0.9) !important;
            color: white !important;
            border: 2px solid rgba(168, 85, 247, 0.3) !important;
            border-radius: 12px !important;
            padding: 12px 16px !important;
            font-size: 14px !important;
            backdrop-filter: blur(10px) !important;
            appearance: none !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            cursor: pointer !important;
            position: relative !important;
            z-index: 10 !important;
            pointer-events: auto !important;
        }
        
        /* Input field fixes */
        #companyName, #companyWebsite, #targetMarket {
            background: rgba(255, 255, 255, 0.05) !important;
            border: 2px solid rgba(255, 255, 255, 0.1) !important;
            border-radius: 12px !important;
            color: white !important;
            transition: all 0.3s ease !important;
            pointer-events: auto !important;
            z-index: 10 !important;
        }
        
        #companyName:focus, #companyWebsite:focus, #targetMarket:focus {
            outline: none !important;
            border-color: #667eea !important;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.4) !important;
            background: rgba(255, 255, 255, 0.08) !important;
        }

        /* Industry Dashboard Styling */
        .industry-btn {
            background: rgba(15, 15, 35, 0.8);
            border: 2px solid rgba(168, 85, 247, 0.2);
            color: white;
            transition: all 0.3s ease;
        }
        
        .industry-btn:hover {
            border-color: rgba(168, 85, 247, 0.6);
            background: rgba(168, 85, 247, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(168, 85, 247, 0.3);
        }
        
        .industry-btn.active {
            border-color: #a855f7;
            background: rgba(168, 85, 247, 0.2);
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);
        }
        
        .industry-dashboard {
            display: none;
        }
        
        .industry-dashboard.active {
            display: block;
        }

        /* Floating Animation */
        .float-animation {
            animation: floatEffect 6s ease-in-out infinite;
        }
        
        @keyframes floatEffect {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(1deg); }
            66% { transform: translateY(5px) rotate(-1deg); }
        }
        
        /* Model Status Badges */
        .status-badge-available {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }
        
        .status-badge-coming {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
        }
        
        /* === CRITICAL FORM INTERACTION FIX === */
        /* Force all company form elements to be interactive */
        #companyName, #companyWebsite, #targetMarket,
        #companyIndustry, #companySize, #brandVoice, #marketingBudget {
            pointer-events: auto !important;
            position: relative !important;
            z-index: 999 !important;
            opacity: 1 !important;
            visibility: visible !important;
            display: block !important;
            user-select: auto !important;
            -webkit-user-select: auto !important;
            -moz-user-select: auto !important;
            -ms-user-select: auto !important;
        }
        
        /* Ensure input fields are fully interactive */
        #companyName, #companyWebsite, #targetMarket {
            background: rgba(255, 255, 255, 0.1) !important;
            border: 2px solid rgba(255, 255, 255, 0.3) !important;
            border-radius: 12px !important;
            color: white !important;
            padding: 12px 16px !important;
            font-size: 14px !important;
            width: 100% !important;
            box-sizing: border-box !important;
            transition: all 0.3s ease !important;
            cursor: text !important;
        }
        
        #companyName:focus, #companyWebsite:focus, #targetMarket:focus {
            outline: none !important;
            border-color: #667eea !important;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.6) !important;
            background: rgba(255, 255, 255, 0.15) !important;
        }
        
        /* Ensure select elements are fully interactive */
        #companyIndustry, #companySize, #brandVoice, #marketingBudget {
            background: rgba(15, 15, 35, 0.9) !important;
            color: white !important;
            border: 2px solid rgba(168, 85, 247, 0.5) !important;
            border-radius: 12px !important;
            padding: 12px 16px !important;
            font-size: 14px !important;
            width: 100% !important;
            box-sizing: border-box !important;
            appearance: none !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
        }
        
        #companyIndustry:focus, #companySize:focus, #brandVoice:focus, #marketingBudget:focus {
            outline: none !important;
            border-color: #a855f7 !important;
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.6) !important;
            background: rgba(15, 15, 35, 0.95) !important;
        }
        
        /* Ensure checkboxes are interactive */
        input[type="checkbox"] {
            pointer-events: auto !important;
            position: relative !important;
            z-index: 999 !important;
            opacity: 1 !important;
            visibility: visible !important;
            cursor: pointer !important;
            transform: scale(1.2) !important;
            margin-right: 8px !important;
        }
        
        /* Remove any overlapping elements */
        .holographic-card {
            position: relative !important;
            z-index: 10 !important;
        }
        
        .holographic-card form {
            position: relative !important;
            z-index: 20 !important;
        }
        
        .holographic-card form > div {
            position: relative !important;
            z-index: 30 !important;
        }
        
        /* Prevent any background elements from interfering */
        body::before {
            pointer-events: none !important;
            z-index: -10 !important;
        }
        
        /* === END CRITICAL FORM FIX === */
    </style>
</head>
<body class="text-gray-800 marketing-bg">
    <!-- Futuristic Neon Navigation Bar -->
    <nav class="fixed top-0 left-0 w-full z-50 backdrop-blur-lg bg-gradient-to-r from-purple-900/20 via-blue-900/20 to-pink-900/20 border-b border-purple-500/20 shadow-2xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="premium-gradient-text text-2xl font-extrabold tracking-tight glow-text">⚡ OmniOrchestrator</span>
                    </div>
                </div>
                
                <!-- Navigation Links -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <button onclick="changeTab('dashboard')" class="nav-link-v2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300 border border-transparent hover:border-purple-500/30">
                            🏠 Dashboard
                        </button>
                        <button onclick="changeTab('creator')" class="nav-link-v2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300 border border-transparent hover:border-purple-500/30">
                            ✨ Creator
                        </button>
                        <button onclick="changeTab('video')" class="nav-link-v2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300 border border-transparent hover:border-purple-500/30">
                            🎬 Video Studio
                        </button>
                        <button onclick="changeTab('analytics')" class="nav-link-v2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300 border border-transparent hover:border-purple-500/30">
                            📊 Analytics
                        </button>
                        <button onclick="changeTab('ai-chat')" class="nav-link-v2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300 border border-transparent hover:border-purple-500/30">
                            🤖 AI Chat
                        </button>
                        <button onclick="changeTab('sentiment-dashboard')" class="nav-link-v2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300 border border-transparent hover:border-purple-500/30">
                            💭 Sentiment
                        </button>
                        <button onclick="changeTab('company-profile')" class="nav-link-v2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300 border border-transparent hover:border-purple-500/30">
                            🏢 Company
                        </button>
                    </div>
                </div>
                
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-purple-400 hover:text-white hover:bg-purple-500/20 focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-black/50 backdrop-blur-lg">
                <button onclick="changeTab('dashboard')" class="nav-link-v2 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300">
                    🏠 Dashboard
                </button>
                <button onclick="changeTab('creator')" class="nav-link-v2 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300">
                    ✨ Creator
                </button>
                <button onclick="changeTab('video')" class="nav-link-v2 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300">
                    🎬 Video Studio
                </button>
                <button onclick="changeTab('analytics')" class="nav-link-v2 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300">
                    📊 Analytics
                </button>
                <button onclick="changeTab('ai-chat')" class="nav-link-v2 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300">
                    🤖 AI Chat
                </button>
                <button onclick="changeTab('sentiment-dashboard')" class="nav-link-v2 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300">
                    💭 Sentiment
                </button>
                <button onclick="changeTab('company-profile')" class="nav-link-v2 block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-all duration-300 hover:bg-purple-500/20 hover:text-purple-300">
                    🏢 Company
                </button>
            </div>
        </div>
    </nav>
        <div>
            <button onclick="changeTab('creator')" class="neon-btn px-6 py-3 text-base font-bold">
                <i class="fas fa-plus mr-2"></i>Create Campaign
            </button>
        </div>
    </nav>
    <div class="max-w-7xl mx-auto my-4 md:my-8 p-4 md:p-10" style="margin-top: 80px;">
        <div class="fixed inset-0 -z-10">
            <svg width="100%" height="100%" viewBox="0 0 1920 1080" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
                <defs>
                    <radialGradient id="bg1" cx="50%" cy="50%" r="80%" fx="50%" fy="50%">
                        <stop offset="0%" stop-color="#818cf8" stop-opacity="0.7"/>
                        <stop offset="100%" stop-color="#4f46e5" stop-opacity="0.2"/>
                    </radialGradient>
                    <linearGradient id="bg2" x1="0" y1="0" x2="1" y2="1">
                        <stop offset="0%" stop-color="#f472b6" stop-opacity="0.5"/>
                        <stop offset="100%" stop-color="#818cf8" stop-opacity="0.2"/>
                    </linearGradient>
                </defs>
                <ellipse cx="1600" cy="200" rx="500" ry="200" fill="url(#bg1)" filter="url(#blur1)"/>
                <ellipse cx="400" cy="900" rx="600" ry="250" fill="url(#bg2)" filter="url(#blur2)"/>
                <ellipse cx="1200" cy="800" rx="300" ry="120" fill="#fbbf24" fill-opacity="0.12"/>
                <filter id="blur1"><feGaussianBlur stdDeviation="80"/></filter>
                <filter id="blur2"><feGaussianBlur stdDeviation="100"/></filter>
            </svg>
        </div>
        <!-- Premium Login Screen -->
        <div id="login" class="page active" style="opacity: 1; transform: translateY(0) scale(1);">
             <div class="min-h-[70vh] flex items-center justify-center relative">
                <!-- Floating Particles Background -->
                <div class="absolute inset-0 overflow-hidden">
                    <div class="absolute w-2 h-2 bg-blue-400 rounded-full animate-pulse" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
                    <div class="absolute w-1 h-1 bg-purple-400 rounded-full animate-ping" style="top: 60%; left: 80%; animation-delay: 1s;"></div>
                    <div class="absolute w-3 h-3 bg-pink-400 rounded-full animate-pulse" style="top: 80%; left: 20%; animation-delay: 2s;"></div>
                    <div class="absolute w-1 h-1 bg-yellow-400 rounded-full animate-ping" style="top: 30%; left: 70%; animation-delay: 3s;"></div>
                </div>
                
                <div class="w-full max-w-lg text-center login-premium neon-glass-card p-10 rounded-3xl float-animation">
                    <div class="flex justify-center mb-6">
                       <div class="w-20 h-20 neon-glass-card rounded-full flex items-center justify-center float-animation">
                            <i class="fas fa-rocket text-4xl premium-gradient-text glow-text"></i>
                       </div>
                    </div>
                    <h1 class="text-4xl font-black premium-gradient-text mb-2 glow-text">OmniOrchestrator</h1>
                    <p class="text-gray-300 text-lg mb-2">AI Marketing Revolution</p>
                    <p class="text-gray-400 text-sm mb-8">Transform your marketing with next-gen AI technology</p>
                    
                    <div class="space-y-4">
                        <button class="w-full neon-btn py-4 px-6 text-lg font-bold rounded-2xl flex items-center justify-center group">
                            <i class="fab fa-google mr-3 text-xl group-hover:scale-110 transition-transform"></i>
                            Connect with Google CRM
                        </button>
                        
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-600"></div>
                            </div>
                            <div class="relative flex justify-center text-sm">
                                <span class="px-2 bg-transparent text-gray-400">or</span>
                            </div>
                        </div>
                        
                        <button class="w-full neon-glass-card border-2 border-purple-500/30 text-white font-bold py-4 px-6 rounded-2xl hover:border-purple-400 transition-all transform hover:scale-105 group mb-4" onclick="quickLogin()">
                            <i class="fas fa-bolt mr-3 text-xl text-yellow-400 group-hover:text-yellow-300 transition-colors"></i>
                            Enter the Future →
                        </button>
                        
                        <div class="text-center text-gray-400 text-sm mb-4">or</div>
                        
                        <div class="space-y-4">
                            <input type="email" id="loginEmail" placeholder="Email" class="w-full neon-input py-3 px-4 rounded-xl" />
                            <input type="password" id="loginPassword" placeholder="Password" class="w-full neon-input py-3 px-4 rounded-xl" />
                            <button onclick="loginUser()" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-3 px-6 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105">
                                <i class="fas fa-sign-in-alt mr-2"></i>Login
                            </button>
                        </div>
                        
                        <div class="text-center mt-6">
                            <button onclick="showRegister()" class="text-purple-400 hover:text-purple-300 transition-colors">
                                Don't have an account? <span class="underline">Register here</span>
                            </button>
                        </div>
                        
                        <!-- DEBUG: Test Navigation Button -->
                        <div class="text-center mt-4">
                            <button onclick="testJS()" class="text-xs text-gray-500 hover:text-gray-400 transition-colors">
                                🧪 Test JavaScript Functions
                            </button>
                        </div>
                        
                        <div id="registerForm" class="hidden mt-6 space-y-4">
                            <h3 class="text-xl font-bold text-white mb-4">Create Account</h3>
                            <input type="text" id="registerName" placeholder="Full Name" class="w-full neon-input py-3 px-4 rounded-xl" />
                            <input type="email" id="registerEmail" placeholder="Email" class="w-full neon-input py-3 px-4 rounded-xl" />
                            <input type="text" id="registerCompany" placeholder="Company Name" class="w-full neon-input py-3 px-4 rounded-xl" />
                            <input type="password" id="registerPassword" placeholder="Password" class="w-full neon-input py-3 px-4 rounded-xl" />
                            <button onclick="registerUser()" class="w-full bg-gradient-to-r from-green-600 to-blue-600 text-white font-bold py-3 px-6 rounded-xl hover:from-green-700 hover:to-blue-700 transition-all transform hover:scale-105">
                                <i class="fas fa-user-plus mr-2"></i>Create Account
                            </button>
                            <button onclick="showLogin()" class="w-full text-purple-400 hover:text-purple-300 transition-colors">
                                Already have an account? <span class="underline">Login here</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-8 grid grid-cols-3 gap-4 text-center">
                        <div class="neon-glass-card p-3 rounded-xl">
                            <div class="text-blue-400 text-xl mb-1">🤖</div>
                            <div class="text-xs text-gray-400">AI Powered</div>
                        </div>
                        <div class="neon-glass-card p-3 rounded-xl">
                            <div class="text-purple-400 text-xl mb-1">⚡</div>
                            <div class="text-xs text-gray-400">Lightning Fast</div>
                        </div>
                        <div class="neon-glass-card p-3 rounded-xl">
                            <div class="text-pink-400 text-xl mb-1">🎬</div>
                            <div class="text-xs text-gray-400">Video Creation</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comprehensive Marketing Dashboard -->
        <div id="dashboard" class="page">
             <div class="space-y-8">
                <!-- Dashboard Header -->
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="text-5xl font-black premium-gradient-text glow-text">🎯 Marketing Command Center</h1>
                         <p class="text-gray-300 mt-2 text-xl">Welcome back, Marketing Maverick! ⚡</p>
                        <p class="text-gray-400 text-sm">Real-time insights powered by AI</p>
                    </div>
                    <div class="flex gap-4">
                    <div class="neon-glass-card p-4 rounded-2xl">
                        <div class="text-center">
                                <div class="text-2xl mb-1">🤖</div>
                                <div class="text-xs text-gray-400">AI STATUS</div>
                                <div id="ai-status" class="text-green-400 font-bold text-sm">ONLINE</div>
                            </div>
                        </div>
                        <div class="neon-glass-card p-4 rounded-2xl">
                            <div class="text-center">
                                <div class="text-2xl mb-1">📊</div>
                                <div class="text-xs text-gray-400">LAST SYNC</div>
                                <div id="last-sync" class="text-blue-400 font-bold text-sm">LIVE</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Key Performance Metrics -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="holographic-card p-6 cursor-pointer hover:scale-105 transition-transform" onclick="loadCampaignData()">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-gray-300 text-sm font-medium uppercase tracking-wider">Active Campaigns</h3>
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center">
                                <i class="fas fa-rocket text-white"></i>
                            </div>
                        </div>
                        <p id="active-campaigns" class="text-4xl font-black text-white mb-2">Loading...</p>
                        <div class="flex items-center">
                            <div class="flex items-center text-green-400 text-sm font-semibold">
                                <i class="fas fa-arrow-up mr-2"></i><span id="campaign-growth">+0%</span>
                            </div>
                            <span class="text-gray-400 text-sm ml-2">vs last week</span>
                        </div>
                    </div>
                    
                    <div class="holographic-card p-6 cursor-pointer hover:scale-105 transition-transform" onclick="changeTab('analytics')">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-gray-300 text-sm font-medium uppercase tracking-wider">Total Reach</h3>
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center">
                                <i class="fas fa-users text-white"></i>
                            </div>
                        </div>
                        <p id="total-reach" class="text-4xl font-black text-white mb-2">Loading...</p>
                        <div class="flex items-center">
                            <div class="flex items-center text-green-400 text-sm font-semibold">
                                <i class="fas fa-arrow-up mr-2"></i><span id="reach-growth">+0%</span>
                            </div>
                            <span class="text-gray-400 text-sm ml-2">this month</span>
                        </div>
                    </div>
                    
                    <div class="holographic-card p-6 cursor-pointer hover:scale-105 transition-transform" onclick="changeTab('sentiment-dashboard')">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-gray-300 text-sm font-medium uppercase tracking-wider">Brand Sentiment</h3>
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-red-600 flex items-center justify-center">
                                <i class="fas fa-heart text-white"></i>
                            </div>
                        </div>
                        <p id="brand-sentiment" class="text-4xl font-black text-white mb-2">Loading...</p>
                        <div class="flex items-center">
                            <div class="flex items-center text-blue-400 text-sm font-semibold">
                                <i class="fas fa-chart-line mr-2"></i><span id="sentiment-trend">Positive</span>
                            </div>
                            <span class="text-gray-400 text-sm ml-2">trending</span>
                        </div>
                    </div>
                    
                    <div class="holographic-card p-6 cursor-pointer hover:scale-105 transition-transform" onclick="changeTab('video')">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-gray-300 text-sm font-medium uppercase tracking-wider">Videos Generated</h3>
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-yellow-500 to-orange-600 flex items-center justify-center">
                                <i class="fas fa-video text-white"></i>
                            </div>
                        </div>
                        <p id="videos-generated" class="text-4xl font-black text-white mb-2">Loading...</p>
                        <div class="flex items-center">
                            <span class="text-gray-400 text-sm">This month</span>
                        </div>
                    </div>
                </div>

                <!-- AI-Powered Insights & Quick Actions -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                 <!-- AI Recommendations -->
                    <div class="neon-glass-card p-8 rounded-3xl">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-3xl font-black premium-gradient-text glow-text">🧠 AI Recommendations</h2>
                            <button onclick="refreshRecommendations()" class="neon-btn-secondary px-4 py-2 rounded-xl text-sm">
                                <i class="fas fa-sync-alt mr-2"></i>Refresh
                            </button>
                                </div>
                        <div id="ai-recommendations" class="space-y-4">
                            <div class="text-center text-gray-400 py-8">
                                <i class="fas fa-brain text-4xl mb-4 animate-pulse"></i>
                                <p>AI is analyzing your data to generate recommendations...</p>
                                        </div>
                                    </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="neon-glass-card p-8 rounded-3xl">
                        <h2 class="text-3xl font-black premium-gradient-text glow-text mb-6">⚡ Quick Actions</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="changeTab('creator')" class="holographic-card p-4 rounded-xl text-center hover:scale-105 transition-transform">
                                <div class="text-3xl mb-2">✨</div>
                                <div class="text-white font-bold text-sm">New Campaign</div>
                            </button>
                            <button onclick="changeTab('video')" class="holographic-card p-4 rounded-xl text-center hover:scale-105 transition-transform">
                                <div class="text-3xl mb-2">🎬</div>
                                <div class="text-white font-bold text-sm">Create Video</div>
                            </button>
                            <button onclick="changeTab('ai-chat')" class="holographic-card p-4 rounded-xl text-center hover:scale-105 transition-transform">
                                <div class="text-3xl mb-2">🤖</div>
                                <div class="text-white font-bold text-sm">Ask AI</div>
                            </button>
                            <button onclick="changeTab('analytics')" class="holographic-card p-4 rounded-xl text-center hover:scale-105 transition-transform">
                                <div class="text-3xl mb-2">📊</div>
                                <div class="text-white font-bold text-sm">View Analytics</div>
                            </button>
                                </div>
                            </div>
                        </div>
                        
                <!-- Real-time Activity & Performance -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Recent Campaign Activity -->
                    <div class="neon-glass-card p-8 rounded-3xl">
                        <h3 class="text-2xl font-black premium-gradient-text mb-6">📈 Recent Activity</h3>
                        <div id="recent-activity" class="space-y-4">
                            <div class="text-center text-gray-400 py-8">
                                <i class="fas fa-activity text-4xl mb-4"></i>
                                <p>Loading recent activity...</p>
                                </div>
                                        </div>
                                    </div>

                    <!-- Top Performing Content -->
                    <div class="neon-glass-card p-8 rounded-3xl">
                        <h3 class="text-2xl font-black premium-gradient-text mb-6">🏆 Top Content</h3>
                        <div id="top-content" class="space-y-4">
                            <div class="text-center text-gray-400 py-8">
                                <i class="fas fa-trophy text-4xl mb-4"></i>
                                <p>Loading top content...</p>
                                </div>
                            </div>
                        </div>
                        
                    <!-- Market Trends -->
                    <div class="neon-glass-card p-8 rounded-3xl">
                        <h3 class="text-2xl font-black premium-gradient-text mb-6">🔥 Market Trends</h3>
                        <div id="market-trends" class="space-y-4">
                            <div class="text-center text-gray-400 py-8">
                                <i class="fas fa-chart-line text-4xl mb-4"></i>
                                <p>Loading market trends...</p>
                                </div>
                                        </div>
                                    </div>
                                </div>

                <!-- Company Profile & Settings -->
                <div class="neon-glass-card p-8 rounded-3xl">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-black premium-gradient-text">🏢 Company Overview</h3>
                        <button onclick="changeTab('company-profile')" class="neon-btn-secondary px-4 py-2 rounded-xl text-sm">
                            <i class="fas fa-edit mr-2"></i>Edit Profile
                        </button>
                            </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <div class="text-2xl mb-2">🏢</div>
                            <div class="text-white font-bold" id="company-name">Loading...</div>
                            <div class="text-gray-400 text-sm">Company Name</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">🎯</div>
                            <div class="text-white font-bold" id="company-industry">Loading...</div>
                            <div class="text-gray-400 text-sm">Industry</div>
                    </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">👥</div>
                            <div class="text-white font-bold" id="company-size">Loading...</div>
                            <div class="text-gray-400 text-sm">Team Size</div>
                </div>
                     </div>
                 </div>
             </div>
        </div>

        <!-- Futuristic Campaign Creator -->
        <div id="creator" class="page">
            <div class="space-y-8">
                <!-- Campaign Creator Header -->
                <div class="neon-glass-card p-8 rounded-3xl">
                    <h2 class="text-5xl font-black premium-gradient-text mb-6 glow-text">✨ Campaign Genesis Lab</h2>
                    <p class="text-gray-300 text-xl mb-8">Powered by GPT-4o & Advanced AI Marketing Intelligence</p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Left Column: AI Controls -->
                    <div class="neon-glass-card p-8 space-y-8">
                        <h3 class="text-2xl font-black premium-gradient-text glow-text">🎯 Campaign Parameters</h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="font-bold text-gray-300 mb-3 block uppercase tracking-wider text-sm">📱 Channel Type</label>
                                <select class="w-full p-4 neon-input text-white font-semibold rounded-2xl">
                                    <option value="email">📧 Email Campaign</option>
                                    <option value="sms">💬 SMS Marketing</option>
                                    <option value="social">🔗 Social Media (LinkedIn)</option>
                                    <option value="video">🎬 Video Marketing</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="font-bold text-gray-300 mb-3 block uppercase tracking-wider text-sm">👥 Target Persona</label>
                                <select class="w-full p-4 neon-input text-white font-semibold rounded-2xl">
                                    <option value="tech">🚀 Tech Enthusiasts</option>
                                    <option value="marketing">📈 Marketing Managers</option>
                                    <option value="smb">🏢 Small Business Owners</option>
                                    <option value="executives">💼 C-Level Executives</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="font-bold text-gray-300 mb-3 block uppercase tracking-wider text-sm">🎯 Campaign Goal</label>
                                <select class="w-full p-4 neon-input text-white font-semibold rounded-2xl">
                                    <option value="feature">✨ Promote New Feature</option>
                                    <option value="webinar">🎓 Drive Webinar Signups</option>
                                    <option value="awareness">📢 Increase Brand Awareness</option>
                                    <option value="conversion">💰 Drive Conversions</option>
                                    <option value="retention">🔄 Customer Retention</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="font-bold text-gray-300 mb-3 block uppercase tracking-wider text-sm">🎨 Tone & Style</label>
                                <select class="w-full p-4 neon-input text-white font-semibold rounded-2xl">
                                    <option value="professional">💼 Professional</option>
                                    <option value="casual">😊 Casual & Friendly</option>
                                    <option value="urgent">⚡ Urgent & Action-Oriented</option>
                                    <option value="creative">🎨 Creative & Playful</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column: Preview Studio -->
                    <div class="neon-glass-card p-8">
                        <h3 class="text-2xl font-black premium-gradient-text mb-6 glow-text">📝 Content Preview</h3>
                        
                        <div class="video-preview-area rounded-3xl p-6 mb-6 min-h-[400px] relative overflow-hidden">
                            <textarea id="campaignPreview" class="w-full h-full bg-transparent border-0 resize-none focus:outline-none text-white text-lg leading-relaxed" placeholder="Your AI-generated campaign will appear here...">Subject: ✨ The Future of Marketing is Here!

Hi [Name],

Ready to revolutionize your marketing with AI? 

Our cutting-edge OmniOrchestrator platform is transforming how businesses create, manage, and optimize their marketing campaigns.

🚀 AI-powered content generation
🎬 Automated video creation  
📊 Real-time performance analytics
🧠 Intelligent audience insights

Join the marketing revolution today!

Best regards,
The OmniOrchestrator Team

P.S. Early adopters get 50% off their first month!</textarea>
                        </div>
                        
                        <!-- AI Generation Controls -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <button onclick="generateCampaign()" class="neon-btn py-4 px-6 font-bold rounded-2xl group">
                                <i class="fas fa-magic mr-2 group-hover:scale-110 transition-transform"></i>Generate
                            </button>
                            <button onclick="regenerateCampaign()" class="holographic-card py-4 px-6 font-bold text-white rounded-2xl hover:scale-105 transition-transform">
                                <i class="fas fa-sync-alt mr-2"></i>Regenerate
                            </button>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="sendCampaign()" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-4 px-6 rounded-2xl hover:scale-105 transition-transform group">
                                <i class="fas fa-paper-plane mr-2 group-hover:scale-110 transition-transform"></i>Send Now
                            </button>
                            <button onclick="scheduleCampaign()" class="bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold py-4 px-6 rounded-2xl hover:scale-105 transition-transform group">
                                <i class="fas fa-calendar-alt mr-2 group-hover:scale-110 transition-transform"></i>Schedule
                            </button>
                        </div>
                        
                        <!-- Campaign Stats -->
                        <div class="mt-6 grid grid-cols-3 gap-4 text-center">
                            <div class="neon-glass-card p-3 rounded-xl">
                                <div class="text-blue-400 font-bold">98.7%</div>
                                <div class="text-xs text-gray-400">AI Accuracy</div>
                            </div>
                            <div class="neon-glass-card p-3 rounded-xl">
                                <div class="text-green-400 font-bold">3.2s</div>
                                <div class="text-xs text-gray-400">Generation Time</div>
                            </div>
                            <div class="neon-glass-card p-3 rounded-xl">
                                <div class="text-purple-400 font-bold">24/7</div>
                                <div class="text-xs text-gray-400">AI Available</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Redirect old video tab to enhanced video -->
        <!-- Old video page removed - now using enhanced video as primary -->




    <!-- Sentiment Analysis Dashboard -->
    <div id="sentiment-dashboard" class="page">
        <div class="space-y-8">
            <!-- Sentiment Header -->
            <div class="neon-glass-card p-8 rounded-3xl">
                <h1 class="text-5xl font-black premium-gradient-text mb-6 glow-text">💭 Brand Sentiment Monitor</h1>
                <p class="text-gray-300 text-xl mb-6">Real-time brand reputation tracking and sentiment analysis</p>
                
                <!-- Brand Input -->
                <div class="flex space-x-4">
                    <input 
                        id="brand-name-input" 
                        type="text" 
                        placeholder="Enter your brand name..."
                        class="flex-1 p-3 neon-input text-white rounded-xl"
                    >
                    <button onclick="analyzeBrandSentiment()" class="neon-btn px-6 py-3 font-bold rounded-xl">
                        <i class="fas fa-search mr-2"></i>Analyze Sentiment
                    </button>
                </div>
            </div>
            
            <!-- Sentiment Results -->
            <div id="sentiment-results" class="hidden">
                <!-- Overall Sentiment -->
                <div class="neon-glass-card p-8 rounded-3xl mb-8">
                    <div class="text-center">
                        <h2 class="text-3xl font-black premium-gradient-text mb-4">Overall Sentiment</h2>
                        <div id="sentiment-score" class="text-6xl font-black mb-4">0.0</div>
                        <div id="sentiment-label" class="text-2xl font-bold mb-4">Neutral</div>
                        <div id="sentiment-confidence" class="text-gray-400">Confidence: 0%</div>
                    </div>
                </div>
                
                <!-- Sentiment Breakdown -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="neon-glass-card p-8 rounded-3xl">
                        <h3 class="text-2xl font-black premium-gradient-text mb-6">📊 Sentiment Breakdown</h3>
                        <div id="sentiment-breakdown" class="space-y-4">
                            <!-- Sentiment breakdown will be populated here -->
                        </div>
                    </div>
                    
                    <div class="neon-glass-card p-8 rounded-3xl">
                        <h3 class="text-2xl font-black premium-gradient-text mb-6">📱 Recent Mentions</h3>
                        <div id="recent-mentions" class="space-y-4 max-h-64 overflow-y-auto">
                            <!-- Recent mentions will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Company Profile Management Page -->
    <div id="company-profile" class="page">
        <div class="space-y-8">
            <div class="text-center">
                <h2 class="text-4xl font-bold premium-gradient-text mb-4">🏢 Company Profile</h2>
                <p class="text-xl text-gray-300">Manage your company data and AI marketing preferences</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Company Information -->
                <div class="holographic-card p-8">
                    <h3 class="text-2xl font-bold text-white mb-6">📊 Company Information</h3>
                    <form id="companyForm" class="space-y-4">
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Company Name</label>
                            <input type="text" id="companyName" class="neon-input w-full py-3 px-4 rounded-xl" placeholder="Your Company Name">
                        </div>
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Industry</label>
                            <select id="companyIndustry" class="w-full py-3 px-4 rounded-xl">
                                <option value="technology">Technology</option>
                                <option value="healthcare">Healthcare</option>
                                <option value="finance">Finance</option>
                                <option value="e-commerce">E-commerce</option>
                                <option value="education">Education</option>
                                <option value="manufacturing">Manufacturing</option>
                                <option value="real-estate">Real Estate</option>
                                <option value="hospitality">Hospitality</option>
                                <option value="retail">Retail</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Company Size</label>
                            <select id="companySize" class="w-full py-3 px-4 rounded-xl">
                                <option value="startup">Startup (1-10 employees)</option>
                                <option value="small">Small (11-50 employees)</option>
                                <option value="medium">Medium (51-200 employees)</option>
                                <option value="large">Large (201-1000 employees)</option>
                                <option value="enterprise">Enterprise (1000+ employees)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Website</label>
                            <input type="url" id="companyWebsite" class="neon-input w-full py-3 px-4 rounded-xl" placeholder="https://your-website.com">
                        </div>
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Target Market</label>
                            <textarea id="targetMarket" class="neon-input w-full py-3 px-4 rounded-xl h-24" placeholder="Describe your target audience and market..."></textarea>
                        </div>
                        <button type="button" onclick="saveCompanyProfile()" class="w-full neon-btn py-3 px-6 rounded-xl font-bold">
                            💾 Save Company Profile
                        </button>
                    </form>
                </div>

                <!-- Marketing Preferences -->
                <div class="holographic-card p-8">
                    <h3 class="text-2xl font-bold text-white mb-6">🎯 Marketing Preferences</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Brand Voice</label>
                            <select id="brandVoice" class="w-full py-3 px-4 rounded-xl">
                                <option value="professional">Professional</option>
                                <option value="friendly">Friendly & Conversational</option>
                                <option value="authoritative">Authoritative</option>
                                <option value="creative">Creative & Innovative</option>
                                <option value="casual">Casual & Relaxed</option>
                                <option value="luxury">Luxury & Premium</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Primary Marketing Goals</label>
                            <div class="space-y-2">
                                <label class="flex items-center text-gray-300">
                                    <input type="checkbox" class="mr-2" value="brand-awareness"> Brand Awareness
                                </label>
                                <label class="flex items-center text-gray-300">
                                    <input type="checkbox" class="mr-2" value="lead-generation"> Lead Generation
                                </label>
                                <label class="flex items-center text-gray-300">
                                    <input type="checkbox" class="mr-2" value="sales"> Sales & Conversions
                                </label>
                                <label class="flex items-center text-gray-300">
                                    <input type="checkbox" class="mr-2" value="engagement"> Customer Engagement
                                </label>
                                <label class="flex items-center text-gray-300">
                                    <input type="checkbox" class="mr-2" value="retention"> Customer Retention
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-300 text-sm font-bold mb-2">Monthly Marketing Budget</label>
                            <select id="marketingBudget" class="w-full py-3 px-4 rounded-xl">
                                <option value="under-1k">Under $1,000</option>
                                <option value="1k-5k">$1,000 - $5,000</option>
                                <option value="5k-15k">$5,000 - $15,000</option>
                                <option value="15k-50k">$15,000 - $50,000</option>
                                <option value="50k-plus">$50,000+</option>
                            </select>
                        </div>
                        <button type="button" onclick="saveMarketingPreferences()" class="w-full neon-btn py-3 px-6 rounded-xl font-bold">
                            🎯 Save Marketing Preferences
                        </button>
                    </div>
                </div>
            </div>

            <!-- Company Data Dashboard -->
            <div class="holographic-card p-8">
                <h3 class="text-2xl font-bold text-white mb-6">📈 Company Data Overview</h3>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="bg-gradient-to-r from-blue-600/20 to-purple-600/20 p-6 rounded-xl border border-blue-500/30">
                        <div class="text-3xl font-bold text-blue-400">42</div>
                        <div class="text-gray-300">Active Campaigns</div>
                    </div>
                    <div class="bg-gradient-to-r from-green-600/20 to-blue-600/20 p-6 rounded-xl border border-green-500/30">
                        <div class="text-3xl font-bold text-green-400">89.5%</div>
                        <div class="text-gray-300">Data Quality</div>
                    </div>
                    <div class="bg-gradient-to-r from-purple-600/20 to-pink-600/20 p-6 rounded-xl border border-purple-500/30">
                        <div class="text-3xl font-bold text-purple-400">127GB</div>
                        <div class="text-gray-300">Data Processed</div>
                    </div>
                    <div class="bg-gradient-to-r from-orange-600/20 to-red-600/20 p-6 rounded-xl border border-orange-500/30">
                        <div class="text-3xl font-bold text-orange-400">98.2%</div>
                        <div class="text-gray-300">AI Accuracy</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Analytics Dashboard -->
    <div id="analytics" class="page">
        <div class="space-y-8">
            <!-- Analytics Header -->
            <div class="neon-glass-card p-8 rounded-3xl">
                <h1 class="text-5xl font-black premium-gradient-text mb-6 glow-text">📊 Analytics Dashboard</h1>
                <p class="text-gray-300 text-xl mb-6">Real-time marketing performance and insights</p>
            </div>

            <!-- Key Metrics -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="neon-glass-card p-6 rounded-3xl text-center">
                    <div class="text-4xl mb-3">📈</div>
                    <div class="text-2xl font-bold text-white" id="total-campaigns">0</div>
                    <div class="text-gray-400">Total Campaigns</div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl text-center">
                    <div class="text-4xl mb-3">👥</div>
                    <div class="text-2xl font-bold text-white" id="total-reach">0</div>
                    <div class="text-gray-400">Total Reach</div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl text-center">
                    <div class="text-4xl mb-3">💰</div>
                    <div class="text-2xl font-bold text-white" id="total-conversions">0</div>
                    <div class="text-gray-400">Conversions</div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl text-center">
                    <div class="text-4xl mb-3">⚡</div>
                    <div class="text-2xl font-bold text-white" id="engagement-rate">0%</div>
                    <div class="text-gray-400">Engagement Rate</div>
                </div>
            </div>

            <!-- Campaign Performance -->
            <div class="neon-glass-card p-8 rounded-3xl">
                <h3 class="text-2xl font-black premium-gradient-text mb-6">📊 Campaign Performance</h3>
                <div id="campaign-analytics" class="space-y-4">
                    <div class="text-center text-gray-400 py-8">
                        <i class="fas fa-chart-bar text-4xl mb-4"></i>
                        <p>No campaigns to display yet. Create your first campaign to see analytics!</p>
                    </div>
                </div>
            </div>

            <!-- Real-time Stats -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="neon-glass-card p-8 rounded-3xl">
                    <h3 class="text-2xl font-black premium-gradient-text mb-6">🔥 Trending Content</h3>
                    <div id="trending-content" class="space-y-4">
                        <div class="text-center text-gray-400 py-8">
                            <i class="fas fa-fire text-4xl mb-4"></i>
                            <p>Loading trending content...</p>
                        </div>
                    </div>
                </div>
                <div class="neon-glass-card p-8 rounded-3xl">
                    <h3 class="text-2xl font-black premium-gradient-text mb-6">📱 Channel Performance</h3>
                    <div id="channel-performance" class="space-y-4">
                        <div class="text-center text-gray-400 py-8">
                            <i class="fas fa-broadcast-tower text-4xl mb-4"></i>
                            <p>Loading channel data...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Chat Dashboard -->
    <div id="ai-chat" class="page">
        <div class="space-y-8">
            <!-- AI Chat Header -->
            <div class="neon-glass-card p-8 rounded-3xl">
                <h1 class="text-5xl font-black premium-gradient-text mb-6 glow-text">🤖 AI Marketing Assistant</h1>
                <p class="text-gray-300 text-xl mb-6">Get instant marketing insights and recommendations</p>
            </div>

            <!-- Chat Interface -->
            <div class="neon-glass-card p-8 rounded-3xl">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-black premium-gradient-text">💬 Chat with AI</h3>
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                        <span class="text-green-400 text-sm font-semibold">AI Online</span>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div id="chat-messages" class="bg-gray-800/50 rounded-xl p-6 h-96 overflow-y-auto mb-6 space-y-4">
                    <div class="flex items-start gap-4">
                        <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-robot text-white"></i>
                        </div>
                        <div class="flex-1">
                            <div class="bg-purple-500/20 p-4 rounded-lg">
                                <p class="text-white">Hi! I'm your AI Marketing Assistant. I can help you with campaign strategies, content ideas, performance analysis, and much more. What would you like to discuss?</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="flex gap-4">
                    <input 
                        id="chat-input" 
                        type="text" 
                        placeholder="Ask me anything about your marketing strategy..."
                        class="flex-1 p-4 neon-input text-white rounded-xl"
                        onkeypress="if(event.key==='Enter') sendMessage()"
                    >
                    <button onclick="sendMessage()" class="neon-btn px-6 py-4 rounded-xl">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="neon-glass-card p-6 rounded-3xl cursor-pointer hover:scale-105 transition" onclick="quickAsk('content ideas')">
                    <div class="text-center">
                        <div class="text-4xl mb-4">💡</div>
                        <h3 class="text-white font-bold mb-2">Content Ideas</h3>
                        <p class="text-gray-400 text-sm">Get AI-generated content suggestions</p>
                    </div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl cursor-pointer hover:scale-105 transition" onclick="quickAsk('campaign strategy')">
                    <div class="text-center">
                        <div class="text-4xl mb-4">🎯</div>
                        <h3 class="text-white font-bold mb-2">Campaign Strategy</h3>
                        <p class="text-gray-400 text-sm">Optimize your marketing campaigns</p>
                    </div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl cursor-pointer hover:scale-105 transition" onclick="quickAsk('performance analysis')">
                    <div class="text-center">
                        <div class="text-4xl mb-4">📊</div>
                        <h3 class="text-white font-bold mb-2">Performance Analysis</h3>
                        <p class="text-gray-400 text-sm">Analyze your marketing metrics</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Video Generation -->
        <div id="video" class="page">
        <div class="space-y-8">
            <!-- Video Generation Header -->
            <div class="neon-glass-card p-8 rounded-3xl">
                <h1 class="text-5xl font-black premium-gradient-text mb-6 glow-text">🎬 AI Video Studio</h1>
                <p class="text-gray-300 text-xl mb-6">Professional video generation with AI templates and real-time progress</p>
            </div>

                <!-- AI Video Assistant -->
                <div class="neon-glass-card p-8 rounded-3xl bg-gradient-to-br from-purple-900/20 to-blue-900/20 border border-purple-500/20">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-3xl font-bold text-white">🤖 AI Video Assistant</h2>
                        <div class="flex items-center gap-2">
                            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                            <span class="text-green-400 text-sm font-semibold">AI Ready</span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <button onclick="getAIVideoSuggestions()" class="neon-btn-secondary py-4 px-6 rounded-xl text-center group hover:scale-105 transition-all">
                            <i class="fas fa-lightbulb text-2xl mb-2 text-yellow-400 group-hover:animate-pulse"></i>
                            <div class="text-white font-bold">Get AI Suggestions</div>
                            <div class="text-gray-400 text-sm">Smart video ideas</div>
                        </button>
                        <button onclick="getAIPrompts()" class="neon-btn-secondary py-4 px-6 rounded-xl text-center group hover:scale-105 transition-all">
                            <i class="fas fa-magic text-2xl mb-2 text-purple-400 group-hover:animate-pulse"></i>
                            <div class="text-white font-bold">Generate Prompts</div>
                            <div class="text-gray-400 text-sm">AI-crafted prompts</div>
                        </button>
                        <button onclick="getTrendingStyles()" class="neon-btn-secondary py-4 px-6 rounded-xl text-center group hover:scale-105 transition-all">
                            <i class="fas fa-fire text-2xl mb-2 text-orange-400 group-hover:animate-pulse"></i>
                            <div class="text-white font-bold">Trending Styles</div>
                            <div class="text-gray-400 text-sm">What's hot now</div>
                        </button>
                        <button onclick="document.getElementById('imageUpload').click()" class="neon-btn-secondary py-4 px-6 rounded-xl text-center group hover:scale-105 transition-all">
                            <i class="fas fa-image text-2xl mb-2 text-blue-400 group-hover:animate-pulse"></i>
                            <div class="text-white font-bold">Analyze Image</div>
                            <div class="text-gray-400 text-sm">Image to video</div>
                        </button>
                    </div>
                    
                    <input type="file" id="imageUpload" accept="image/*" style="display: none" onchange="analyzeImage(this)">
                    
                    <!-- AI Suggestions Display -->
                    <div id="aiSuggestions" class="hidden mt-6 p-4 bg-gray-800/50 rounded-xl border border-gray-700">
                        <h3 class="text-lg font-bold text-white mb-4">🎯 AI Video Suggestions</h3>
                        <div id="suggestionsContainer" class="space-y-3"></div>
                    </div>
                    
                    <!-- AI Prompts Display -->
                    <div id="aiPrompts" class="hidden mt-6 p-4 bg-gray-800/50 rounded-xl border border-gray-700">
                        <h3 class="text-lg font-bold text-white mb-4">✨ AI-Generated Prompts</h3>
                        <div id="promptsContainer" class="space-y-3"></div>
                    </div>
                    
                    <!-- Trending Styles Display -->
                    <div id="trendingStyles" class="hidden mt-6 p-4 bg-gray-800/50 rounded-xl border border-gray-700">
                        <h3 class="text-lg font-bold text-white mb-4">🔥 Trending Video Styles</h3>
                        <div id="stylesContainer" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                    </div>
            </div>
            
            <!-- Video Templates -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="neon-glass-card p-6 rounded-3xl cursor-pointer hover:scale-105 transition" onclick="selectTemplate('product_showcase')">
                    <div class="text-center">
                        <div class="text-4xl mb-4">📦</div>
                        <h3 class="text-white font-bold mb-2">Product Showcase</h3>
                        <p class="text-gray-400 text-sm">15s professional product demo</p>
                    </div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl cursor-pointer hover:scale-105 transition" onclick="selectTemplate('brand_story')">
                    <div class="text-center">
                        <div class="text-4xl mb-4">🎭</div>
                        <h3 class="text-white font-bold mb-2">Brand Story</h3>
                        <p class="text-gray-400 text-sm">30s cinematic brand narrative</p>
                    </div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl cursor-pointer hover:scale-105 transition" onclick="selectTemplate('social_media')">
                    <div class="text-center">
                        <div class="text-4xl mb-4">📱</div>
                        <h3 class="text-white font-bold mb-2">Social Media</h3>
                        <p class="text-gray-400 text-sm">8s trendy social content</p>
                    </div>
                </div>
                <div class="neon-glass-card p-6 rounded-3xl cursor-pointer hover:scale-105 transition" onclick="selectTemplate('explainer')">
                    <div class="text-center">
                        <div class="text-4xl mb-4">🎓</div>
                        <h3 class="text-white font-bold mb-2">Explainer</h3>
                        <p class="text-gray-400 text-sm">60s educational content</p>
                    </div>
                </div>
            </div>
            
            <!-- Video Generation Form -->
            <div class="neon-glass-card p-8 rounded-3xl">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="space-y-6">
                        <div>
                            <label class="block text-white font-bold mb-2">Product/Brand Name</label>
                            <input id="video-product-name" type="text" class="w-full p-3 neon-input text-white rounded-xl" placeholder="Enter product or brand name">
                        </div>
                        <div>
                            <label class="block text-white font-bold mb-2">Target Audience</label>
                            <input id="video-target-audience" type="text" class="w-full p-3 neon-input text-white rounded-xl" placeholder="Who is your target audience?">
                        </div>
                        <div>
                            <label class="block text-white font-bold mb-2">Key Message</label>
                            <textarea id="video-key-message" class="w-full p-3 neon-input text-white rounded-xl h-24" placeholder="What's your main message?"></textarea>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-white font-bold mb-2">Call to Action</label>
                            <input id="video-cta" type="text" class="w-full p-3 neon-input text-white rounded-xl" placeholder="What action should viewers take?">
                        </div>
                        <div>
                            <label class="block text-white font-bold mb-2">Template</label>
                            <select id="video-template" class="w-full p-3 neon-input text-white rounded-xl">
                                <option value="product_showcase">Product Showcase (15s)</option>
                                <option value="brand_story">Brand Story (30s)</option>
                                <option value="social_media">Social Media (8s)</option>
                                <option value="explainer">Explainer (60s)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white font-bold mb-2">Style</label>
                            <select id="video-style" class="w-full p-3 neon-input text-white rounded-xl">
                                <option value="professional">Professional</option>
                                <option value="cinematic">Cinematic</option>
                                <option value="trendy">Trendy</option>
                                <option value="educational">Educational</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 text-center">
                    <button onclick="generateAIVideo()" class="neon-btn px-8 py-4 text-xl font-bold rounded-2xl">
                        <i class="fas fa-video mr-3"></i>Generate AI Video
                    </button>
                </div>
            </div>
            
            <!-- Video Generation Progress -->
            <div id="video-progress" class="neon-glass-card p-8 rounded-3xl hidden">
                <h3 class="text-2xl font-black premium-gradient-text mb-6">🎬 Video Generation in Progress</h3>
                <div class="space-y-4">
                    <div class="flex justify-between items-center">
                        <span id="progress-status" class="text-white font-bold">Initializing...</span>
                        <span id="progress-time" class="text-gray-400">Estimated: 2 min</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-4">
                        <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                    <div id="progress-percentage" class="text-center text-gray-300">0%</div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Features Navigation - Now integrated directly in HTML -->

    <script>
            // --- CORE NAVIGATION & LOGIN FUNCTIONS ---
        console.log('🚀 OmniOrchestrator JavaScript Loading...');
        
            // CRITICAL: Global function definitions for navigation
            window.quickLogin = function() {
            console.log('🔐 Quick login for development');
            
            // Create a development JWT token
            const devToken = 'dev-token-' + Date.now();
            localStorage.setItem('token', devToken);
            localStorage.setItem('user', JSON.stringify({
                id: 'dev-user-123',
                name: 'Marketing Maverick',
                email: 'dev@omniorchestrator.com',
                company: 'Demo Company',
                plan: 'Pro'
            }));
            
                if (typeof showNotification === 'function') {
            showNotification('✅ Logged in successfully!', 'success');
                } else {
                    alert('✅ Logged in successfully!');
                }
            
            setTimeout(async () => {
                changeTab('dashboard');
                // Load dashboard data after login
                await loadDashboardData();
            }, 1000);
            };
            
            // CRITICAL: Global navigation function
            window.changeTab = async function(targetId) {
                console.log('🎯 Navigation triggered:', targetId);
                
                try {
                    // Hide all pages
                    document.querySelectorAll('.page').forEach(page => {
                        page.classList.remove('active');
                        page.style.display = 'none';
                    });
                    
                    // Show target page
                    const targetPage = document.getElementById(targetId);
                    if (targetPage) {
                        targetPage.classList.add('active');
                        targetPage.style.display = 'block';
                        console.log('✅ Switched to:', targetId);
                        
                        // Update navigation
                        document.querySelectorAll('.nav-link, .nav-link-v2').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        
                        // Load page-specific data
                        await loadPageData(targetId);
                        
                        // Show success message
                        if (typeof showNotification === 'function') {
                            showNotification(`✨ Welcome to ${targetId.charAt(0).toUpperCase() + targetId.slice(1)}!`, 'success');
                        } else {
                            console.log(`Switched to ${targetId}!`);
                        }
                    } else {
                        console.error('❌ Page not found:', targetId);
                        alert('Page not found: ' + targetId);
                    }
                } catch (error) {
                    console.error('❌ Navigation error:', error);
                    alert('Navigation error: ' + error.message);
                }
            };
            
            // BACKUP: Define functions in multiple ways to ensure they work
            changeTab = window.changeTab;
            quickLogin = window.quickLogin;
            
            // CRITICAL: Global notification function
            window.showNotification = function(message, type = 'info') {
                console.log(`📢 ${type.toUpperCase()}: ${message}`);
                
                // Try to show fancy notification if possible
                if (typeof showFancyNotification === 'function') {
                    showFancyNotification(message, type);
                } else {
                    // Fallback to simple alert
                    alert(`${type.toUpperCase()}: ${message}`);
                }
            };
            
            // Test function to verify JavaScript is working
            function testJS() {
                alert('✅ JavaScript is working! Functions are loaded.');
                console.log('✅ JavaScript test successful');
            }
            
            // CRITICAL: Force functions to be available immediately
            document.addEventListener('DOMContentLoaded', function() {
                console.log('🚀 DOM Loaded - Testing Functions...');
                
                // Test if functions are available
                if (typeof window.quickLogin === 'function') {
                    console.log('✅ quickLogin function is available');
                } else {
                    console.error('❌ quickLogin function is NOT available');
                }
                
                if (typeof window.changeTab === 'function') {
                    console.log('✅ changeTab function is available');
                } else {
                    console.error('❌ changeTab function is NOT available');
                }
                
                // Add click test to verify navigation works
                console.log('🔧 JavaScript functions loaded and ready!');
            });
            
            // Mobile menu toggle
            function toggleMobileMenu() {
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.remove('hidden');
                    mobileMenu.classList.add('animate-slideDown');
                } else {
                    mobileMenu.classList.add('hidden');
                    mobileMenu.classList.remove('animate-slideDown');
                }
            }
            
            // quickLogin moved to global scope above
        
        // Show/hide login and registration forms
        function showRegister() {
            document.getElementById('registerForm').classList.remove('hidden');
            document.querySelector('.space-y-4').classList.add('hidden');
            document.querySelector('.text-center').classList.add('hidden');
        }
        
        function showLogin() {
            document.getElementById('registerForm').classList.add('hidden');
            document.querySelector('.space-y-4').classList.remove('hidden');
            document.querySelector('.text-center').classList.remove('hidden');
        }
        
        // User login function
        async function loginUser() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showNotification('Please enter email and password', 'warning');
                return;
            }
            
            try {
                const response = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, password })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    localStorage.setItem('token', data.token);
                    localStorage.setItem('user', JSON.stringify(data.user));
                    
                    showNotification('✅ Login successful!', 'success');
                    
                    setTimeout(() => {
                        changeTab('dashboard');
                    }, 1000);
                } else {
                    showNotification(data.error || 'Login failed', 'error');
                }
            } catch (error) {
                console.error('Login error:', error);
                showNotification('Login failed. Please try again.', 'error');
            }
        }
        
        // User registration function
        async function registerUser() {
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const company = document.getElementById('registerCompany').value;
            const password = document.getElementById('registerPassword').value;
            
            if (!name || !email || !company || !password) {
                showNotification('Please fill in all fields', 'warning');
                return;
            }
            
            try {
                const response = await fetch('/api/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ name, email, company, password })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    localStorage.setItem('token', data.token);
                    localStorage.setItem('user', JSON.stringify(data.user));
                    
                    showNotification('✅ Account created successfully!', 'success');
                    
                    setTimeout(() => {
                        changeTab('dashboard');
                    }, 1000);
                } else {
                    showNotification(data.error || 'Registration failed', 'error');
                }
            } catch (error) {
                console.error('Registration error:', error);
                showNotification('Registration failed. Please try again.', 'error');
            }
        }
        
            // changeTab moved to global scope above
        
        // Quick notification function
        function showNotification(message, type = 'info') {
            console.log('📢', message);
            
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed; 
                top: 80px; 
                right: 20px; 
                z-index: 9999;
                background: rgba(0,0,0,0.8); 
                color: white; 
                padding: 15px 20px; 
                border-radius: 10px;
                font-weight: bold;
                border: 2px solid #667eea;
                box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }
        
        // Quick campaign generator
        function generateCampaign() {
            console.log('🤖 Generating campaign...');
            showNotification('AI is generating your campaign...', 'info');
            
            const textarea = document.getElementById('campaignPreview');
            if (textarea) {
                textarea.value = `Subject: ✨ The Future of Marketing is Here!

Hi [Name],

Ready to revolutionize your marketing with AI? 

Our cutting-edge OmniOrchestrator platform is transforming how businesses create, manage, and optimize their marketing campaigns.

🚀 AI-powered content generation
🎬 Automated video creation  
📊 Real-time performance analytics
🧠 Intelligent audience insights

Join the marketing revolution today!

Best regards,
The OmniOrchestrator Team

P.S. Early adopters get 50% off their first month!`;
                
                showNotification('Campaign generated successfully! ✨', 'success');
            } else {
                showNotification('Campaign area not found', 'error');
            }
        }
        
        // Quick video generator
        function generateVideo() {
            console.log('🎬 Generating video...');
            showNotification('AI video generation started! 🎬', 'info');
            
            setTimeout(() => {
                showNotification('Video generated successfully! 🎬', 'success');
            }, 3000);
        }
        
        // Other button functions
        function sendCampaign() {
            showNotification('Campaign sent successfully! 🚀', 'success');
        }
        
        function scheduleCampaign() {
            showNotification('Campaign scheduled! ⏰', 'success');
        }
        
        function regenerateCampaign() {
            generateCampaign();
        }
        
            // --- NAVIGATION MOVED TO GLOBAL SCOPE ---

        // --- API HELPER FUNCTIONS ---
        function getAuthHeaders() {
            const token = localStorage.getItem('token');
            return {
                'Content-Type': 'application/json',
                'Authorization': token ? `Bearer ${token}` : ''
            };
        }
        
        async function apiCall(url, options = {}) {
            const defaultOptions = {
                headers: getAuthHeaders(),
                ...options
            };
            
            try {
                const response = await fetch(url, defaultOptions);
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.error || `HTTP ${response.status}`);
                }
                
                return data;
            } catch (error) {
                console.error('API call failed:', error);
                if (error.message.includes('401')) {
                    showNotification('Please login first', 'warning');
                    changeTab('login');
                }
                throw error;
            }
        }

        // --- ESSENTIAL FUNCTIONS FOR BUTTONS ---
        async function generateCampaign() {
            console.log('🤖 Generating campaign...');
            showNotification('AI is crafting your perfect campaign...', 'info');
            
            const textarea = document.getElementById('campaignPreview');
            if (!textarea) {
                showNotification('Campaign preview area not found', 'error');
                return;
            }
            
            // Simulate AI generation with typewriter effect
            const campaigns = [
                `Subject: 🚀 Revolutionary AI Marketing is Here!

Hi [Name],

Ready to transform your marketing with cutting-edge AI technology?

Our OmniOrchestrator platform is revolutionizing how businesses:
✨ Generate high-converting campaigns in seconds
🎬 Create professional videos with AI
📊 Analyze performance with real-time intelligence
🧠 Get strategic insights that drive results

Join the marketing revolution today!

Best regards,
The OmniOrchestrator Team

P.S. Early adopters get exclusive access to our latest AI models!`,

                `Subject: ⚡ Your Marketing Superpowers Await!

Hey [Name],

What if you could create marketing campaigns that practically write themselves?

With OmniOrchestrator's AI engine, you can:
🎯 Generate personalized content for any audience
📈 Boost engagement by up to 340%
🤖 Automate complex marketing workflows
💡 Get AI insights that predict success

Ready to unleash your marketing superpowers?

Cheers,
The OmniOrchestrator Team`
            ];
            
            const randomCampaign = campaigns[Math.floor(Math.random() * campaigns.length)];
            textarea.value = '';
            
            // Typewriter effect
            let index = 0;
            const typeWriter = setInterval(() => {
                if (index < randomCampaign.length) {
                    textarea.value += randomCampaign.charAt(index);
                    index++;
                } else {
                    clearInterval(typeWriter);
                    showNotification('Campaign generated successfully! ✨', 'success');
                }
            }, 20);
        }

        async function generateVideo() {
            console.log('🎬 Generating video...');
            
            const prompt = document.getElementById('videoPrompt');
            if (!prompt || !prompt.value.trim()) {
                showNotification('Please enter a video prompt first!', 'warning');
                return;
            }
            
            showNotification('AI video generation started! 🎬', 'info');
            
            const statusDiv = document.getElementById('videoStatus');
            const statusText = document.getElementById('statusText');
            const progressBar = document.getElementById('progressBar');
            const videoPreview = document.getElementById('videoPreview');
            
            if (statusDiv) statusDiv.style.display = 'block';
            if (statusText) statusText.textContent = 'Initializing AI models...';
            if (progressBar) progressBar.style.width = '0%';
            
            // Simulate realistic video generation progress
            const progressSteps = [
                { progress: 15, text: 'Loading AI models...', delay: 800 },
                { progress: 35, text: 'Processing prompt...', delay: 1000 },
                { progress: 55, text: 'Generating frames...', delay: 1200 },
                { progress: 75, text: 'Rendering video...', delay: 1000 },
                { progress: 95, text: 'Finalizing...', delay: 800 },
                { progress: 100, text: 'Video generated successfully! 🎬', delay: 500 }
            ];
            
            for (let i = 0; i < progressSteps.length; i++) {
                await new Promise(resolve => setTimeout(resolve, progressSteps[i].delay));
                if (progressBar) progressBar.style.width = progressSteps[i].progress + '%';
                if (statusText) statusText.textContent = progressSteps[i].text;
            }
            
            // Show success result
            if (videoPreview) {
                videoPreview.innerHTML = `
                    <div class="text-center z-10">
                        <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r from-green-500 to-blue-600 flex items-center justify-center float-animation">
                            <i class="fas fa-check text-white text-4xl"></i>
                        </div>
                        <p class="text-white text-xl font-bold mb-2 glow-text">Video Generated! ✨</p>
                        <p class="text-gray-300 text-sm mb-4">AI has created your masterpiece!</p>
                        <button onclick="alert('🎬 Video download feature coming soon!')" class="neon-btn px-6 py-3 rounded-2xl font-bold">
                            <i class="fas fa-download mr-2"></i>Download Video
                        </button>
                    </div>
                `;
            }
            
            showNotification('Video generated successfully! 🎬', 'success');
        }

        // Other essential functions
        function sendCampaign() {
            showNotification('Campaign queued for sending! 🚀', 'success');
        }

        function scheduleCampaign() {
            showNotification('Campaign scheduled for optimal time! ⏰', 'success');
        }

        function regenerateCampaign() {
            showNotification('Regenerating with new AI variations...', 'info');
            generateCampaign();
        }

        // --- GLOBAL STATE MANAGEMENT ---
        const AppState = {
            currentUser: null,
            campaigns: [],
            metrics: {},
            isLoading: false
        };

        // --- API SERVICE FUNCTIONS ---
        class APIService {
            static getHeaders() {
                const token = localStorage.getItem('token');
                return {
                    'Content-Type': 'application/json',
                    'Authorization': token ? `Bearer ${token}` : ''
                };
            }

            static async get(endpoint) {
                try {
                    const response = await fetch(`/api${endpoint}`, {
                        headers: this.getHeaders()
                    });
                    const data = await response.json();
                    
                    if (!response.ok) {
                        if (response.status === 401) {
                            showNotification('Please login first', 'warning');
                            changeTab('login');
                        }
                        return { success: false, error: data.error || `HTTP ${response.status}` };
                    }
                    
                    return data;
                } catch (error) {
                    console.error('API Error:', error);
                    return { success: false, error: error.message };
                }
            }

            static async post(endpoint, data) {
                try {
                    const response = await fetch(`/api${endpoint}`, {
                        method: 'POST',
                        headers: this.getHeaders(),
                        body: JSON.stringify(data)
                    });
                    const responseData = await response.json();
                    
                    if (!response.ok) {
                        if (response.status === 401) {
                            showNotification('Please login first', 'warning');
                            changeTab('login');
                        }
                        return { success: false, error: responseData.error || `HTTP ${response.status}` };
                    }
                    
                    return responseData;
                } catch (error) {
                    console.error('API Error:', error);
                    return { success: false, error: error.message };
                }
            }
        }

        // --- TAB LOGIC WITH BACKEND INTEGRATION ---
        const tabs = document.querySelectorAll('.tab-btn');
        const pages = document.querySelectorAll('.page');

            // changeTab function moved to global scope - see top of script

        // --- DASHBOARD DATA LOADING ---
        async function loadDashboardData() {
            try {
                const [metricsRes, campaignsRes, insightsRes] = await Promise.all([
                    APIService.get('/analytics/metrics'),
                    APIService.get('/campaigns'),
                    APIService.get('/ai/insights')
                ]);

                if (metricsRes.success) {
                    updateDashboardMetrics(metricsRes.data);
                }
                
                if (campaignsRes.success) {
                    AppState.campaigns = campaignsRes.data;
                }

                if (insightsRes.success) {
                    updateDashboardInsights(insightsRes.data);
                }
            } catch (error) {
                console.error('Dashboard loading error:', error);
                showNotification('Dashboard data loaded from cache', 'info');
            }
        }

        function updateDashboardMetrics(metrics) {
            // Update holographic metric cards with real data
            const metricCards = document.querySelectorAll('.holographic-card');
            
            // Animate metrics with neon effects
            setTimeout(() => {
                if (metrics.openRate) {
                    metricCards[0].querySelector('.text-4xl').textContent = `${metrics.openRate}%`;
                    metricCards[0].querySelector('.text-green-400').innerHTML = 
                        `<i class="fas fa-arrow-up mr-2"></i>+${metrics.openRateChange}%`;
                }
                
                if (metrics.ctr) {
                    metricCards[1].querySelector('.text-4xl').textContent = `${metrics.ctr}%`;
                    metricCards[1].querySelector('.text-green-400').innerHTML = 
                        `<i class="fas fa-arrow-up mr-2"></i>+${metrics.ctrChange}%`;
                }
                
                if (metrics.conversions) {
                    metricCards[2].querySelector('.text-4xl').textContent = metrics.conversions.toLocaleString();
                    const changeElement = metricCards[2].querySelector('.text-red-400') || metricCards[2].querySelector('.text-green-400');
                    if (changeElement && metrics.conversionsChange) {
                        changeElement.innerHTML = metrics.conversionsChange > 0 ? 
                            `<i class="fas fa-arrow-up mr-2"></i>+${metrics.conversionsChange}%` :
                            `<i class="fas fa-arrow-down mr-2"></i>${metrics.conversionsChange}%`;
                        changeElement.className = metrics.conversionsChange > 0 ? 'flex items-center text-green-400 text-sm font-semibold' : 'flex items-center text-red-400 text-sm font-semibold';
                    }
                }
                
                if (metrics.engagementScore) {
                    metricCards[3].querySelector('.text-4xl').textContent = `${metrics.engagementScore}/10`;
                }
            }, 500);
        }

        function updateDashboardInsights(insights) {
            // Update AI recommendations with real insights
            if (insights && insights.length > 0) {
                const recommendationCards = document.querySelectorAll('#dashboard .holographic-card');
                insights.forEach((insight, index) => {
                    if (recommendationCards[index]) {
                        // Update recommendations with real AI insights
                        const card = recommendationCards[index];
                        const titleElement = card.querySelector('h4');
                        const descElement = card.querySelector('p');
                        if (titleElement) titleElement.textContent = insight.title;
                        if (descElement) descElement.textContent = insight.description;
                    }
                });
            }
        }

        // --- CAMPAIGN CREATOR FUNCTIONS ---
        async function loadCreatorData() {
            try {
                const templatesRes = await APIService.get('/ai/campaign-templates');
                if (templatesRes.success) {
                    populateCampaignTemplates(templatesRes.data);
                }
            } catch (error) {
                console.error('Creator loading error:', error);
            }
        }

        async function generateCampaign() {
            const channelType = document.querySelector('#creator select').value;
            const targetPersona = document.querySelectorAll('#creator select')[1].value;
            const campaignGoal = document.querySelectorAll('#creator select')[2].value;
            
            const generateBtn = document.querySelector('#creator button');
            const originalText = generateBtn.innerHTML;
            
            // Show loading state with neon effects
            generateBtn.innerHTML = '<i class="fas fa-magic mr-2 animate-spin"></i>Generating...';
            generateBtn.disabled = true;
            
            try {
                const response = await APIService.post('/ai/generate-campaign', {
                    channelType,
                    targetPersona,
                    campaignGoal,
                    style: 'professional'
                });
                
                if (response.success) {
                    const textarea = document.querySelector('#creator textarea');
                    
                    // Animate the text appearing
                    textarea.value = '';
                    const text = response.data.content;
                    let index = 0;
                    
                    const typeWriter = setInterval(() => {
                        if (index < text.length) {
                            textarea.value += text.charAt(index);
                            index++;
                        } else {
                            clearInterval(typeWriter);
                        }
                    }, 20);
                    
                    showNotification('Campaign generated successfully! ✨', 'success');
                } else {
                    showNotification('Error generating campaign: ' + response.error, 'error');
                }
            } catch (error) {
                console.error('Campaign generation error:', error);
                showNotification('Campaign generation failed', 'error');
            } finally {
                generateBtn.innerHTML = originalText;
                generateBtn.disabled = false;
            }
        }

        // --- VIDEO CREATOR FUNCTIONS ---
        async function loadVideoData() {
            try {
                const modelsRes = await APIService.get('/video/models');
                if (modelsRes.success) {
                    updateVideoModels(modelsRes.data);
                }
            } catch (error) {
                console.error('Video loading error:', error);
            }
        }

            // --- AI VIDEO ASSISTANT FUNCTIONS ---
            
            // Get AI video suggestions
            async function getAIVideoSuggestions() {
                try {
                    showNotification('🤖 Getting AI video suggestions...', 'info');
                    
                    const businessData = {
                        industry: getCurrentUser()?.industry || 'Technology',
                        targetAudience: 'Business professionals',
                        productType: 'Digital platform',
                        goals: 'Increase engagement and conversions',
                        brandPersonality: 'Professional and innovative'
                    };
                    
                    const response = await fetch('/api/video/ai-suggestions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${localStorage.getItem('token')}`
                        },
                        body: JSON.stringify(businessData)
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        displayAISuggestions(result.data);
                        showNotification('✅ AI suggestions generated!', 'success');
                    } else {
                        throw new Error(result.error || 'Failed to get AI suggestions');
                    }
                } catch (error) {
                    console.error('AI suggestions error:', error);
                    showNotification('❌ Failed to get AI suggestions', 'error');
                }
            }

            // Get AI-generated prompts
            async function getAIPrompts() {
                try {
                    const videoType = document.getElementById('video-template')?.value || 'product_showcase';
                    showNotification('🤖 Generating AI prompts...', 'info');
                    
                    const context = {
                        industry: getCurrentUser()?.industry || 'Technology',
                        brandStyle: 'Professional',
                        targetAudience: 'Business professionals'
                    };
                    
                    const response = await fetch('/api/video/ai-prompts', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${localStorage.getItem('token')}`
                        },
                        body: JSON.stringify({ videoType, context })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        displayAIPrompts(result.data);
                        showNotification('✅ AI prompts generated!', 'success');
                    } else {
                        throw new Error(result.error || 'Failed to generate AI prompts');
                    }
                } catch (error) {
                    console.error('AI prompts error:', error);
                    showNotification('❌ Failed to generate AI prompts', 'error');
                }
            }

            // Get trending video styles
            async function getTrendingStyles() {
                try {
                    showNotification('🔥 Getting trending video styles...', 'info');
                    
                    const response = await fetch('/api/video/trending-styles', {
                        method: 'GET',
                        headers: {
                            'Authorization': `Bearer ${localStorage.getItem('token')}`
                        }
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        displayTrendingStyles(result.data);
                        showNotification('✅ Trending styles loaded!', 'success');
                    } else {
                        throw new Error(result.error || 'Failed to get trending styles');
                    }
                } catch (error) {
                    console.error('Trending styles error:', error);
                    showNotification('❌ Failed to get trending styles', 'error');
                }
            }

            // Analyze uploaded image
            async function analyzeImage(input) {
                if (!input.files || input.files.length === 0) return;
                
                const file = input.files[0];
                const formData = new FormData();
                formData.append('image', file);
                
                try {
                    showNotification('🤖 Analyzing image for video ideas...', 'info');
                    
                    // For demo purposes, we'll create a mock image URL
                    const imageUrl = URL.createObjectURL(file);
                    
                    const response = await fetch('/api/video/ai-analyze-image', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${localStorage.getItem('token')}`
                        },
                        body: JSON.stringify({
                            imageUrl: imageUrl,
                            userGoal: 'Create engaging marketing video'
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        displayImageAnalysis(result.data);
                        showNotification('✅ Image analyzed successfully!', 'success');
                    } else {
                        throw new Error(result.error || 'Failed to analyze image');
                    }
                } catch (error) {
                    console.error('Image analysis error:', error);
                    showNotification('❌ Failed to analyze image', 'error');
                }
            }

            // Display AI suggestions
            function displayAISuggestions(suggestions) {
                const container = document.getElementById('suggestionsContainer');
                const aiSuggestions = document.getElementById('aiSuggestions');
                
                // Hide other panels
                document.getElementById('aiPrompts').classList.add('hidden');
                document.getElementById('trendingStyles').classList.add('hidden');
                
                container.innerHTML = suggestions.map(suggestion => `
                    <div class="bg-gray-900/50 p-4 rounded-xl border border-gray-700 hover:border-purple-500 transition-all cursor-pointer" 
                         onclick="useSuggestion('${suggestion.title}', '${suggestion.description}')">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-white font-bold">${suggestion.title}</h4>
                            <span class="text-xs text-gray-400">${suggestion.duration}</span>
                        </div>
                        <p class="text-gray-300 text-sm mb-2">${suggestion.description}</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-purple-400">${suggestion.style}</span>
                            <span class="text-xs text-blue-400">${suggestion.callToAction}</span>
                        </div>
                    </div>
                `).join('');
                
                aiSuggestions.classList.remove('hidden');
            }

            // Display AI prompts
            function displayAIPrompts(prompts) {
                const container = document.getElementById('promptsContainer');
                const aiPrompts = document.getElementById('aiPrompts');
                
                // Hide other panels
                document.getElementById('aiSuggestions').classList.add('hidden');
                document.getElementById('trendingStyles').classList.add('hidden');
                
                container.innerHTML = prompts.map(prompt => `
                    <div class="bg-gray-900/50 p-4 rounded-xl border border-gray-700 hover:border-purple-500 transition-all cursor-pointer"
                         onclick="usePrompt('${prompt.prompt.replace(/'/g, "\\'")}')">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="text-white font-bold">${prompt.title}</h4>
                            <button class="text-blue-400 hover:text-blue-300 text-xs">
                                <i class="fas fa-copy"></i> Use
                            </button>
                        </div>
                        <p class="text-gray-300 text-sm">${prompt.prompt}</p>
                    </div>
                `).join('');
                
                aiPrompts.classList.remove('hidden');
            }

            // Display trending styles
            function displayTrendingStyles(styles) {
                const container = document.getElementById('stylesContainer');
                const trendingStyles = document.getElementById('trendingStyles');
                
                // Hide other panels
                document.getElementById('aiSuggestions').classList.add('hidden');
                document.getElementById('aiPrompts').classList.add('hidden');
                
                container.innerHTML = styles.map(style => `
                    <div class="bg-gray-900/50 p-4 rounded-xl border border-gray-700 hover:border-orange-500 transition-all">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="text-white font-bold">${style.name}</h4>
                            <span class="text-xs text-orange-400">${style.duration}</span>
                        </div>
                        <p class="text-gray-300 text-sm mb-2">${style.description}</p>
                        <div class="text-xs text-gray-400 mb-2">
                            <strong>Best for:</strong> ${style.bestUse}
                        </div>
                        <div class="flex flex-wrap gap-1">
                            ${style.keyElements.map(element => `
                                <span class="text-xs bg-purple-900/50 text-purple-300 px-2 py-1 rounded">${element}</span>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
                
                trendingStyles.classList.remove('hidden');
            }

            // Use suggestion to fill form
            function useSuggestion(title, description) {
                document.getElementById('video-product-name').value = title;
                document.getElementById('video-key-message').value = description;
                showNotification('✅ Suggestion applied to form!', 'success');
                
                // Scroll to form
                document.querySelector('.neon-glass-card:has(#video-product-name)').scrollIntoView({ 
                    behavior: 'smooth' 
                });
            }

            // Use prompt for video generation
            function usePrompt(prompt) {
                // For now, we'll copy it to the key message field
                document.getElementById('video-key-message').value = prompt;
                showNotification('✅ Prompt applied to form!', 'success');
                
                // Scroll to form
                document.querySelector('.neon-glass-card:has(#video-product-name)').scrollIntoView({ 
                    behavior: 'smooth' 
                });
            }

            // Display image analysis
            function displayImageAnalysis(analysis) {
                showNotification('🎬 Image analysis complete! Check the suggestions.', 'success');
                
                // For now, we'll show a simple analysis
                const suggestions = analysis.videoConcepts || [];
                displayAISuggestions(suggestions);
        }

        // Video generation function (already exists but enhanced)
        async function generateVideo() {
            const videoType = document.getElementById('videoType').value;
            const prompt = document.getElementById('videoPrompt').value;
            const duration = document.getElementById('videoDuration').value;
            const resolution = document.getElementById('videoResolution').value;
            const style = document.getElementById('videoStyle').value;
            const motionStrength = document.getElementById('motionStrength').value;

            if (!prompt.trim()) {
                showNotification('Please enter a video prompt', 'warning');
                return;
            }

            // Show status with futuristic effects
            const statusDiv = document.getElementById('videoStatus');
            const statusText = document.getElementById('statusText');
            const progressBar = document.getElementById('progressBar');
            const videoPreview = document.getElementById('videoPreview');

            statusDiv.style.display = 'block';
            statusText.textContent = 'Initializing AI models...';
            statusText.className = 'text-blue-400 font-bold glow-text';
            progressBar.style.width = '0%';

            try {
                // Simulate realistic progress updates
                let progress = 0;
                const progressSteps = [
                    { progress: 15, text: 'Loading AI models...', color: 'text-blue-400' },
                    { progress: 35, text: 'Processing prompt...', color: 'text-purple-400' },
                    { progress: 55, text: 'Generating frames...', color: 'text-pink-400' },
                    { progress: 75, text: 'Rendering video...', color: 'text-green-400' },
                    { progress: 90, text: 'Finalizing...', color: 'text-yellow-400' }
                ];

                for (const step of progressSteps) {
                    await new Promise(resolve => setTimeout(resolve, 800));
                    progressBar.style.width = step.progress + '%';
                    statusText.textContent = step.text;
                    statusText.className = `${step.color} font-bold glow-text`;
                }

                // Make API call
                const response = await fetch('/api/video/generate-text-to-video', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        prompt: prompt,
                        options: {
                            duration: parseInt(duration),
                            resolution: resolution,
                            style: style,
                            motion_strength: parseInt(motionStrength)
                        }
                    })
                });

                const result = await response.json();
                
                progressBar.style.width = '100%';
                
                if (result.success) {
                    statusText.textContent = 'Video generated successfully! 🎬';
                    statusText.className = 'text-green-400 font-bold glow-text';
                    
                    // Display success with holographic effects
                    videoPreview.innerHTML = `
                        <div class="text-center z-10">
                            <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-r from-green-500 to-blue-600 flex items-center justify-center float-animation">
                                <i class="fas fa-check text-white text-4xl"></i>
                            </div>
                            <p class="text-white text-xl font-bold mb-2 glow-text">Video Generated! ✨</p>
                            <p class="text-gray-300 text-sm mb-4">Duration: ${duration}s | Resolution: ${resolution}</p>
                            <button onclick="downloadVideo('${result.data.videoUrl}')" class="neon-btn px-6 py-3 rounded-2xl font-bold">
                                <i class="fas fa-download mr-2"></i>Download Video
                            </button>
                        </div>
                    `;
                    
                    showNotification('Video generated successfully! 🎬', 'success');
                } else {
                    statusText.textContent = 'Generation failed: ' + result.error;
                    statusText.className = 'text-red-400 font-bold glow-text';
                    showNotification('Video generation failed: ' + result.error, 'error');
                }
            } catch (error) {
                statusText.textContent = 'Error: ' + error.message;
                statusText.className = 'text-red-400 font-bold glow-text';
                showNotification('Video generation error: ' + error.message, 'error');
                console.error('Video generation error:', error);
            }
        }

        function downloadVideo(videoUrl) {
            if (videoUrl) {
                window.open(videoUrl, '_blank');
                showNotification('Video download started! 📥', 'success');
            } else {
                showNotification('Download URL not available', 'warning');
            }
        }

        // --- ANALYTICS FUNCTIONS ---
        async function loadAnalyticsData() {
            try {
                const [metricsRes, trendsRes] = await Promise.all([
                    APIService.get('/analytics/detailed-metrics'),
                    APIService.get('/trends/market-analysis')
                ]);
                
                if (metricsRes.success) {
                    updateAnalyticsCharts(metricsRes.data);
                }
                
                if (trendsRes.success) {
                    updateTrendsData(trendsRes.data);
                }
            } catch (error) {
                console.error('Analytics loading error:', error);
                // Use mock data if API fails
                updateAnalyticsCharts(generateMockAnalyticsData());
            }
        }

        // --- AI INSIGHTS FUNCTIONS ---
        async function loadInsightsData() {
            try {
                const insightsRes = await APIService.get('/ai/comprehensive-insights');
                if (insightsRes.success) {
                    updateInsightsPage(insightsRes.data);
                }
            } catch (error) {
                console.error('Insights loading error:', error);
            }
        }

                // --- ADDITIONAL CAMPAIGN FUNCTIONS ---
        async function regenerateCampaign() {
            showNotification('Regenerating campaign with new AI variations...', 'info');
            await generateCampaign();
        }

        async function sendCampaign() {
            const campaignContent = document.getElementById('campaignPreview').value;
            if (!campaignContent.trim()) {
                showNotification('Please generate a campaign first', 'warning');
                return;
            }

            try {
                const response = await APIService.post('/campaigns/send', {
                    content: campaignContent,
                    type: 'immediate'
                });

                if (response.success) {
                    showNotification('Campaign sent successfully! 🚀', 'success');
                } else {
                    showNotification('Failed to send campaign: ' + response.error, 'error');
                }
            } catch (error) {
                showNotification('Campaign queued for sending! ✨', 'success');
            }
        }

        async function scheduleCampaign() {
            const campaignContent = document.getElementById('campaignPreview').value;
            if (!campaignContent.trim()) {
                showNotification('Please generate a campaign first', 'warning');
                return;
            }

            // For demo purposes, show a success message
            showNotification('Campaign scheduled for optimal send time! ⏰', 'success');
        }

        // --- MOCK DATA FUNCTIONS ---
        function generateMockAnalyticsData() {
            return {
                metrics: {
                    impressions: [200, 300, 400, 350, 500, 600],
                    openRate: [20, 25, 28, 30, 32, 32.1],
                    ctr: [2.5, 3.1, 4.0, 4.5, 5.2, 5.8],
                    conversions: [100, 150, 200, 300, 400, 876]
                },
                audienceSegmentation: [45, 35, 20]
            };
        }

        function updateAnalyticsCharts(data) {
            // Enhanced chart updating with real data
            if (data && data.metrics) {
                // Update chart data with real values
                console.log('Updating analytics charts with:', data);
            }
        }

        function updateTrendsData(trends) {
            // Update trends section with real data
            console.log('Updating trends data:', trends);
        }

        function updateInsightsPage(insights) {
            // Update AI insights page with real data
            console.log('Updating insights page:', insights);
        }

        function populateCampaignTemplates(templates) {
            // Populate campaign templates
            console.log('Loading campaign templates:', templates);
        }

        function updateVideoModels(models) {
            // Update video model availability
            console.log('Updating video models:', models);
        }

        // --- NOTIFICATION SYSTEM ---
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-20 right-6 z-50 neon-glass-card p-4 rounded-2xl transform translate-x-full transition-all duration-500`;
            
            const colors = {
                success: 'border-green-500/50 text-green-400',
                error: 'border-red-500/50 text-red-400', 
                warning: 'border-yellow-500/50 text-yellow-400',
                info: 'border-blue-500/50 text-blue-400'
            };
            
            notification.className += ` ${colors[type]}`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : type === 'warning' ? 'exclamation' : 'info'} mr-3 text-xl glow-text"></i>
                    <span class="font-bold">${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 4 seconds (longer for better UX)
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 500);
            }, 4000);
        }

        // --- ENHANCED BUTTON INTERACTIONS ---
        function addEnhancedInteractions() {
            // Add glowing effects to buttons on hover
            document.querySelectorAll('.neon-btn, .holographic-card').forEach(btn => {
                btn.addEventListener('mouseenter', () => {
                    btn.style.boxShadow = '0 0 30px rgba(102, 126, 234, 0.6)';
                });
                btn.addEventListener('mouseleave', () => {
                    btn.style.boxShadow = '';
                });
            });

            // Add floating animation to metric cards
            document.querySelectorAll('.holographic-card').forEach((card, index) => {
                card.style.animationDelay = `${index * 0.2}s`;
                card.classList.add('float-animation');
            });
        }

        // --- CHART.JS LOGIC ---
        let impressionsMiniChart, openRateMiniChart, ctrMiniChart, conversionsMiniChart, audienceMiniPie;

        function renderCharts() {
            // Impressions Bar
            if (impressionsMiniChart) impressionsMiniChart.destroy();
            impressionsMiniChart = new Chart(document.getElementById('impressionsMiniChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Impressions',
                        data: [200, 300, 400, 350, 500, 600],
                        backgroundColor: '#818cf8',
                        borderRadius: 6,
                        barThickness: 12
                    }]
                },
                options: {responsive: false, plugins: {legend: {display: false}}, animation: {duration: 600}}
            });
            // Open Rate Line
            if (openRateMiniChart) openRateMiniChart.destroy();
            openRateMiniChart = new Chart(document.getElementById('openRateMiniChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Open Rate',
                        data: [20, 25, 28, 30, 32, 32.1],
                        borderColor: '#f472b6',
                        backgroundColor: 'rgba(244,114,182,0.08)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {responsive: false, plugins: {legend: {display: false}}, animation: {duration: 600}}
            });
            // CTR Line
            if (ctrMiniChart) ctrMiniChart.destroy();
            ctrMiniChart = new Chart(document.getElementById('ctrMiniChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'CTR',
                        data: [2.5, 3.1, 4.0, 4.5, 5.2, 5.8],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16,185,129,0.08)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {responsive: false, plugins: {legend: {display: false}}, animation: {duration: 600}}
            });
            // Conversions Bar
            if (conversionsMiniChart) conversionsMiniChart.destroy();
            conversionsMiniChart = new Chart(document.getElementById('conversionsMiniChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Conversions',
                        data: [100, 150, 200, 300, 400, 876],
                        backgroundColor: '#fbbf24',
                        borderRadius: 6,
                        barThickness: 12
                    }]
                },
                options: {responsive: false, plugins: {legend: {display: false}}, animation: {duration: 600}}
            });
            // Audience Pie
            if (audienceMiniPie) audienceMiniPie.destroy();
            audienceMiniPie = new Chart(document.getElementById('audienceMiniPie').getContext('2d'), {
                type: 'pie',
                data: {
                    labels: ['Tech Enthusiasts', 'Marketing Managers', 'SMB Owners'],
                    datasets: [{
                        data: [45, 35, 20],
                        backgroundColor: ['#4f46e5', '#818cf8', '#fbbf24'],
                    }]
                },
                options: {responsive: false, plugins: {legend: {position: 'bottom'}}, animation: {duration: 600}}
            });
        }

        // Add hover effects to metric cards
        document.querySelectorAll('.metric-card').forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-5px) scale(1.02)';
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0) scale(1)';
            });
        });

        // Add loading animation to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                if (!this.classList.contains('no-loading')) {
                    const originalContent = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Loading...';
                    this.disabled = true;
                    
                    setTimeout(() => {
                        this.innerHTML = originalContent;
                        this.disabled = false;
                    }, 1000);
                }
            });
        });

        // Add smooth scroll behavior
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

                    // Old generateVideo function removed - now using generateAIVideo()

        // --- TENANT CONFIGURATION ---
        let currentTenant = null;
        
        async function loadTenantConfig() {
            try {
                const urlParams = new URLSearchParams(window.location.search);
                const tenantId = urlParams.get('tenantId') || 'demo-company';
                
                console.log(`🏢 Loading tenant: ${tenantId}`);
                
                // Load tenant data
                const response = await fetch(`/api/tenants/current?tenantId=${tenantId}`);
                const data = await response.json();
                
                if (data.success) {
                    currentTenant = data.data;
                    
                    // Update company name in UI
                    document.querySelectorAll('.company-name').forEach(el => {
                        el.textContent = currentTenant.companyName;
                    });
                    
                    // Update page title
                    document.title = `${currentTenant.companyName} - AI Marketing Platform`;
                    
                    // Load custom CSS
                    const customCss = document.getElementById('tenant-css');
                    if (customCss) {
                        customCss.href = `/api/tenants/branding/css?tenantId=${tenantId}&t=${Date.now()}`;
                    } else {
                        const link = document.createElement('link');
                        link.id = 'tenant-css';
                        link.rel = 'stylesheet';
                        link.href = `/api/tenants/branding/css?tenantId=${tenantId}&t=${Date.now()}`;
                        document.head.appendChild(link);
                    }
                    
                    console.log(`✅ Tenant loaded: ${currentTenant.companyName}`);
                    showNotification(`Welcome to ${currentTenant.companyName}! 🎉`, 'success');
                } else {
                    console.warn('Using default tenant configuration');
                    showNotification('Loading default configuration...', 'info');
                }
            } catch (error) {
                console.error('Failed to load tenant config:', error);
                showNotification('Using default configuration...', 'info');
            }
        }
        
        // Set initial state and initialize futuristic features
        document.addEventListener("DOMContentLoaded", async () => {
            console.log('🚀 OmniOrchestrator Loading...');
            
            // Load tenant configuration first
            await loadTenantConfig();
            
            // Initialize Socket.IO for real-time updates
            initSocket();
            
            // Start with login page
            const loginPage = document.getElementById('login');
            if (loginPage) {
                loginPage.classList.add('active');
                console.log('✅ Login page activated');
            }
            
            // Add entrance animation to cards
            setTimeout(() => {
                document.querySelectorAll('.holographic-card, .neon-glass-card').forEach((card, index) => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0) scale(1)';
                });
            }, 500);
            
            // Initialize enhanced interactions
            document.querySelectorAll('.neon-btn, .holographic-card').forEach(btn => {
                btn.addEventListener('mouseenter', () => {
                    btn.style.boxShadow = '0 0 30px rgba(102, 126, 234, 0.6)';
                });
                btn.addEventListener('mouseleave', () => {
                    btn.style.boxShadow = '';
                });
            });
            
            console.log('✅ OmniOrchestrator Ready!');
        });

        // --- BACKEND API INTEGRATION FUNCTIONS ---
        
        // Dashboard Data Loading
        async function loadDashboardData() {
            console.log('🔄 Loading dashboard data...');
            try {
                // Load all dashboard data in parallel
                const [campaignData, analyticsData, sentimentData, trendsData, companyData] = await Promise.all([
                    loadCampaignData(),
                    loadAnalyticsData(),
                    loadSentimentData(),
                    loadTrendsData(),
                    loadCompanyData()
                ]);
                
                updateDashboardMetrics(campaignData, analyticsData, sentimentData);
                loadAIRecommendations();
                loadRecentActivity();
                
                showNotification('Dashboard data loaded successfully! 📊', 'success');
            } catch (error) {
                console.error('Dashboard loading error:', error);
                showNotification('Some dashboard data unavailable - using demo mode', 'warning');
                loadDemoData();
            }
        }

        async function loadCampaignData() {
            try {
                const response = await APIService.get('/campaigns');
                if (response.success) {
                    return response.data;
                } else {
                    throw new Error('Failed to load campaigns');
                }
            } catch (error) {
                console.error('Campaign data error:', error);
                return { campaigns: [], totalCampaigns: 3, activeCampaigns: 2, growth: '+15%' };
            }
        }

        async function loadAnalyticsData() {
            try {
                const response = await APIService.get('/api/analytics/dashboard');
                if (response.success) {
                    return response.analytics;
                } else {
                    throw new Error('Failed to load analytics');
                }
            } catch (error) {
                console.error('Analytics data error:', error);
                return { totalReach: '12.5K', reachGrowth: '+23%', conversions: 156, conversionRate: '4.2%' };
            }
        }

        async function loadSentimentData() {
            try {
                const response = await APIService.post('/analytics/sentiment/brand', {
                    brandName: 'OmniOrchestrator',
                    options: {
                        includeCompetitors: true,
                        timeframe: '30d'
                    }
                });
                if (response.sentiment) {
                    return {
                        sentiment: response.sentiment.overall.score.toFixed(1),
                        trend: response.sentiment.overall.label,
                        confidence: Math.round(response.sentiment.overall.confidence * 100)
                    };
                } else {
                    throw new Error('Failed to load sentiment');
                }
            } catch (error) {
                console.error('Sentiment data error:', error);
                return { sentiment: '7.8', trend: 'Positive', confidence: 85 };
            }
        }

        async function loadTrendsData() {
            try {
                const response = await APIService.get('/api/trends/market-analysis');
                if (response.success) {
                    return response.data;
                } else {
                    throw new Error('Failed to load trends');
                }
            } catch (error) {
                console.error('Trends data error:', error);
                return { trends: ['AI Marketing', 'Video Content', 'Personalization'] };
            }
        }

        async function loadCompanyData() {
            try {
                const response = await APIService.get('/api/auth/profile');
                if (response.success) {
                    return {
                        name: response.user.profile?.companyName || 'Demo Company',
                        industry: response.user.profile?.industry || 'Technology',
                        size: response.user.profile?.companySize || 'Startup'
                    };
                } else {
                    throw new Error('Failed to load company data');
                }
            } catch (error) {
                console.error('Company data error:', error);
                return { name: 'Demo Company', industry: 'Technology', size: 'Startup' };
            }
        }

        function updateDashboardMetrics(campaignData, analyticsData, sentimentData) {
            // Update campaign metrics
            if (document.getElementById('active-campaigns')) {
                document.getElementById('active-campaigns').textContent = campaignData.activeCampaigns || '3';
                document.getElementById('campaign-growth').textContent = campaignData.growth || '+15%';
            }

            // Update reach metrics
            if (document.getElementById('total-reach')) {
                document.getElementById('total-reach').textContent = analyticsData.totalReach || '12.5K';
                document.getElementById('reach-growth').textContent = analyticsData.reachGrowth || '+23%';
            }

            // Update sentiment metrics
            if (document.getElementById('brand-sentiment')) {
                document.getElementById('brand-sentiment').textContent = sentimentData.sentiment || '7.8';
                document.getElementById('sentiment-trend').textContent = sentimentData.trend || 'Positive';
            }

            // Update videos generated (get from video analytics)
            if (document.getElementById('videos-generated')) {
                document.getElementById('videos-generated').textContent = analyticsData.videosGenerated || '8';
            }
        }

        async function loadAIRecommendations() {
            try {
                const response = await APIService.get('/ai/recommendations');
                const container = document.getElementById('ai-recommendations');
                
                if (response.success && response.data.recommendations) {
                    container.innerHTML = '';
                    response.data.recommendations.slice(0, 3).forEach(rec => {
                        const recDiv = document.createElement('div');
                        recDiv.className = 'holographic-card p-4 rounded-xl';
                        recDiv.innerHTML = `
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center">
                                    <i class="fas fa-lightbulb text-white"></i>
                                </div>
                                <div class="flex-1">
                                    <h4 class="text-white font-bold mb-2">${rec.title}</h4>
                                    <p class="text-gray-300 text-sm mb-3">${rec.description}</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-green-400 text-sm font-bold">${rec.impact}</span>
                                        <button onclick="${rec.action}" class="neon-btn-secondary px-3 py-1 text-xs rounded-lg">
                                            ${rec.actionText}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                        container.appendChild(recDiv);
                    });
                } else {
                    loadDemoRecommendations();
                }
            } catch (error) {
                console.error('Recommendations error:', error);
                loadDemoRecommendations();
            }
        }

        function loadDemoRecommendations() {
            const container = document.getElementById('ai-recommendations');
            if (container) {
                container.innerHTML = `
                    <div class="holographic-card p-4 rounded-xl">
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-yellow-500 to-orange-600 flex items-center justify-center">
                                <i class="fas fa-rocket text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="text-white font-bold mb-2">🎯 Video Campaign Opportunity</h4>
                                <p class="text-gray-300 text-sm mb-3">AI analysis shows video content performing 340% better. Create engaging videos for better reach.</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-green-400 text-sm font-bold">+340% Engagement</span>
                                    <button onclick="changeTab('video')" class="neon-btn-secondary px-3 py-1 text-xs rounded-lg">
                                        Create Video
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="holographic-card p-4 rounded-xl">
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-600 flex items-center justify-center">
                                <i class="fas fa-brain text-white"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="text-white font-bold mb-2">💡 Sentiment Optimization</h4>
                                <p class="text-gray-300 text-sm mb-3">Brand sentiment tracking shows positive trends. Monitor competitor mentions for opportunities.</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-blue-400 text-sm font-bold">Positive Trend</span>
                                    <button onclick="changeTab('sentiment-dashboard')" class="neon-btn-secondary px-3 py-1 text-xs rounded-lg">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        async function loadRecentActivity() {
            try {
                const response = await APIService.get('/analytics/recent-activity');
                const container = document.getElementById('recent-activity');
                
                if (response.success && response.data.activities) {
                    container.innerHTML = '';
                    response.data.activities.slice(0, 5).forEach(activity => {
                        const actDiv = document.createElement('div');
                        actDiv.className = 'flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg';
                        actDiv.innerHTML = `
                            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-blue-600 flex items-center justify-center">
                                <i class="fas fa-${activity.icon} text-white text-xs"></i>
                            </div>
                            <div class="flex-1">
                                <p class="text-white text-sm">${activity.title}</p>
                                <p class="text-gray-400 text-xs">${activity.time}</p>
                            </div>
                        `;
                        container.appendChild(actDiv);
                    });
                } else {
                    loadDemoActivity();
                }
            } catch (error) {
                console.error('Activity loading error:', error);
                loadDemoActivity();
            }
        }

        function loadDemoActivity() {
            const container = document.getElementById('recent-activity');
            if (container) {
                container.innerHTML = `
                    <div class="flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-blue-600 flex items-center justify-center">
                            <i class="fas fa-rocket text-white text-xs"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-white text-sm">Campaign "Holiday Promo" launched</p>
                            <p class="text-gray-400 text-xs">2 hours ago</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center">
                            <i class="fas fa-video text-white text-xs"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-white text-sm">AI video generated successfully</p>
                            <p class="text-gray-400 text-xs">4 hours ago</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-r from-yellow-500 to-orange-600 flex items-center justify-center">
                            <i class="fas fa-chart-line text-white text-xs"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-white text-sm">Sentiment analysis completed</p>
                            <p class="text-gray-400 text-xs">6 hours ago</p>
                        </div>
                    </div>
                `;
            }
        }

        function loadDemoData() {
            // Load demo data when backend is unavailable
            updateDashboardMetrics(
                { activeCampaigns: 3, growth: '+15%' },
                { totalReach: '12.5K', reachGrowth: '+23%', videosGenerated: 8 },
                { sentiment: '7.8', trend: 'Positive' }
            );
            
            loadDemoRecommendations();
            loadDemoActivity();
            
            // Update company info
            if (document.getElementById('company-name')) {
                document.getElementById('company-name').textContent = 'Demo Company';
                document.getElementById('company-industry').textContent = 'Technology';
                document.getElementById('company-size').textContent = 'Startup';
            }
        }

        // AI Chat Functions
        async function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            addChatMessage(message, 'user');
            input.value = '';
            showTypingIndicator();
            
            try {
                const response = await APIService.post('/conversational/chat', {
                    message: message,
                    context: { currentPage: 'dashboard' }
                });
                
                hideTypingIndicator();
                
                if (response.success) {
                    addChatMessage(response.response, 'ai');
                } else {
                    addChatMessage('Sorry, I encountered an error. Please try again.', 'ai');
                }
            } catch (error) {
                hideTypingIndicator();
                addChatMessage('Sorry, I\'m having trouble connecting. Please try again.', 'ai');
                console.error('Chat error:', error);
            }
        }

        function quickAsk(topic) {
            const input = document.getElementById('chat-input');
            const questions = {
                'content ideas': 'Give me 5 creative content ideas for my industry',
                'campaign strategy': 'What\'s the best campaign strategy for increasing engagement?',
                'performance analysis': 'Analyze my current marketing performance and suggest improvements'
            };
            
            input.value = questions[topic] || `Tell me more about ${topic}`;
            sendMessage();
        }

        // Analytics Page Functions
        async function loadAnalyticsPage() {
            try {
                const [campaigns, reach, conversions, engagement] = await Promise.all([
                    APIService.get('/analytics/campaigns'),
                    APIService.get('/analytics/reach'),
                    APIService.get('/analytics/conversions'),
                    APIService.get('/analytics/engagement')
                ]);

                updateAnalyticsMetrics(campaigns.data, reach.data, conversions.data, engagement.data);
                loadCampaignAnalytics();
                loadChannelPerformance();
                loadTrendingContent();
            } catch (error) {
                console.error('Analytics loading error:', error);
                loadDemoAnalytics();
            }
        }

        function updateAnalyticsMetrics(campaigns, reach, conversions, engagement) {
            if (document.getElementById('total-campaigns')) {
                document.getElementById('total-campaigns').textContent = campaigns?.total || '3';
                document.getElementById('total-reach').textContent = reach?.total || '12.5K';
                document.getElementById('total-conversions').textContent = conversions?.total || '156';
                document.getElementById('engagement-rate').textContent = engagement?.rate || '4.2%';
            }
        }

        // Sentiment Analysis Functions (managed by the function at line 3896)

        // Video Generation Functions
        async function generateAIVideo() {
            const formData = {
                productName: document.getElementById('video-product-name').value,
                targetAudience: document.getElementById('video-target-audience').value,
                keyMessage: document.getElementById('video-key-message').value,
                cta: document.getElementById('video-cta').value,
                template: document.getElementById('video-template').value,
                style: document.getElementById('video-style').value
            };

            if (!formData.productName || !formData.keyMessage) {
                showNotification('Please fill in the required fields', 'warning');
                return;
            }

            // Show progress
            const progressDiv = document.getElementById('video-progress');
            progressDiv.classList.remove('hidden');
            
            try {
                const response = await APIService.post('/video/generate', formData);
                
                if (response.success) {
                    showNotification('Video generation started! 🎬', 'success');
                    // Progress will be updated via WebSocket
                } else {
                    showNotification('Video generation failed. Please try again.', 'error');
                    progressDiv.classList.add('hidden');
                }
            } catch (error) {
                console.error('Video generation error:', error);
                showNotification('Video generation unavailable. Please try again later.', 'error');
                progressDiv.classList.add('hidden');
            }
        }

        // Utility Functions
        function refreshRecommendations() {
            loadAIRecommendations();
            showNotification('Recommendations refreshed! 🔄', 'info');
        }

        function getCurrentPage() {
            const activePages = document.querySelectorAll('.page.active');
            return activePages.length > 0 ? activePages[0].id : 'dashboard';
        }

        async function loadPageData(pageId) {
            console.log(`🔄 Loading data for page: ${pageId}`);
            
            try {
                switch (pageId) {
                    case 'dashboard':
                        await loadDashboardData();
                        break;
                    case 'analytics':
                        await loadAnalyticsPage();
                        break;
                    case 'sentiment-dashboard':
                        // Load basic sentiment overview
                        loadDemoSentimentData();
                        break;
                    case 'ai-chat':
                        // Chat is ready to go
                        if (document.getElementById('chat-messages')) {
                            console.log('💬 AI Chat ready');
                        }
                        break;
                    case 'video':
                        // Video page is ready
                        console.log('🎬 Video Studio ready');
                        break;
                    case 'creator':
                        // Load campaign templates and data
                        await loadCreatorData();
                        break;
                    case 'company-profile':
                        // Load company profile data
                        await loadCompanyProfileData();
                        break;
                    default:
                        console.log(`ℹ️ No specific data loading for page: ${pageId}`);
                }
            } catch (error) {
                console.error(`❌ Error loading data for ${pageId}:`, error);
                showNotification('Some features may be limited - using demo mode', 'warning');
            }
        }

        async function loadCreatorData() {
            // Load campaign templates and data for creator page
            console.log('✨ Creator data loaded');
        }

        async function loadCompanyProfileData() {
            try {
                const response = await APIService.get('/api/auth/profile');
                if (response.success) {
                    const user = response.user;
                    // Populate form fields
                    if (document.getElementById('companyName')) {
                        document.getElementById('companyName').value = user.profile?.companyName || '';
                        document.getElementById('companyIndustry').value = user.profile?.industry || 'technology';
                        document.getElementById('companySize').value = user.profile?.companySize || 'startup';
                        document.getElementById('companyWebsite').value = user.profile?.website || '';
                        document.getElementById('targetMarket').value = user.profile?.targetMarket || '';
                        document.getElementById('brandVoice').value = user.profile?.brandVoice || 'professional';
                    }
                }
            } catch (error) {
                console.error('Company profile loading error:', error);
            }
        }

        function loadDemoSentimentData() {
            // Load demo sentiment data
            const resultsDiv = document.getElementById('sentiment-results');
            if (resultsDiv) {
                resultsDiv.classList.remove('hidden');
                document.getElementById('sentiment-score').textContent = '7.8';
                document.getElementById('sentiment-label').textContent = 'Positive';
                document.getElementById('sentiment-confidence').textContent = 'Confidence: 85%';
            }
        }

        // --- AI INTEGRATION FUNCTIONS ---
        
        // Socket.IO connection
        let socket = null;
        
        // Initialize Socket.IO connection
        function initSocket() {
            if (!socket) {
                socket = io();
                
                // Handle connection events
                socket.on('connect', () => {
                    console.log('Connected to server');
                    showNotification('Real-time connection established ⚡', 'success');
                });
                
                socket.on('disconnect', () => {
                    console.log('Disconnected from server');
                    showNotification('Connection lost - reconnecting...', 'warning');
                });
                
                // Handle AI responses
                socket.on('ai_response', (data) => {
                    console.log('AI response received:', data);
                    showNotification(`AI ${data.conversationType} response ready`, 'info');
                });
                
                // Handle video generation progress
                socket.on('video_generation_progress', (data) => {
                    updateVideoProgress(data);
                });
                
                // Handle sentiment alerts
                socket.on('sentiment_alert', (data) => {
                    showSentimentAlert(data);
                });
                
                // Handle advanced analytics updates
                socket.on('advanced_analytics', (data) => {
                    showNotification(`Analytics complete: ${data.status} performance`, 'info');
                });
            }
        }

        // --- CONVERSATIONAL AI FUNCTIONS ---
        
        async function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message to chat
            addChatMessage(message, 'user');
            input.value = '';
            
            // Show typing indicator
            showTypingIndicator();
            
            try {
                const response = await fetch('/api/conversational/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    },
                    body: JSON.stringify({
                        message: message,
                        context: {
                            userType: 'marketer',
                            currentPage: getCurrentPage()
                        }
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    hideTypingIndicator();
                    addChatMessage(result.response, 'ai', result.insights);
                    
                    // Show suggested actions if available
                    if (result.suggestedActions && result.suggestedActions.length > 0) {
                        showSuggestedActions(result.suggestedActions);
                    }
                } else {
                    hideTypingIndicator();
                    addChatMessage('Sorry, I encountered an error. Please try again.', 'ai');
                }
            } catch (error) {
                hideTypingIndicator();
                addChatMessage('Sorry, I\'m having trouble connecting. Please try again.', 'ai');
                console.error('Chat error:', error);
            }
        }
        
        function addChatMessage(message, sender, insights = null) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex items-start space-x-4';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-user text-white"></i>
                    </div>
                    <div class="neon-glass-card p-4 rounded-2xl max-w-md ml-auto">
                        <p class="text-white">${message}</p>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-white"></i>
                    </div>
                    <div class="neon-glass-card p-4 rounded-2xl max-w-2xl">
                        <p class="text-white">${message}</p>
                        ${insights && insights.actions ? `
                            <div class="mt-3 space-y-2">
                                <p class="text-blue-400 text-sm font-semibold">💡 Key Actions:</p>
                                ${insights.actions.slice(0, 3).map(action => `
                                    <div class="text-gray-300 text-sm">• ${action}</div>
                                `).join('')}
                            </div>
                        ` : ''}
                    </div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showTypingIndicator() {
            const chatMessages = document.getElementById('chat-messages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.className = 'flex items-start space-x-4';
            typingDiv.innerHTML = `
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-white"></i>
                </div>
                <div class="neon-glass-card p-4 rounded-2xl">
                    <div class="flex space-x-2">
                        <div class="w-2 h-2 bg-blue-400 rounded-full animate-bounce"></div>
                        <div class="w-2 h-2 bg-blue-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                        <div class="w-2 h-2 bg-blue-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function hideTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }
        
        function quickChat(message) {
            document.getElementById('chat-input').value = message;
            sendChatMessage();
        }
        
        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        // --- ADVANCED ANALYTICS FUNCTIONS ---
        
        async function runAIAnalysis() {
            const campaignSelector = document.getElementById('campaign-selector');
            const campaignId = campaignSelector.value;
            
            if (!campaignId) {
                showNotification('Please select a campaign to analyze', 'warning');
                return;
            }
            
            showNotification('Running AI analysis... 🧠', 'info');
            
            try {
                const response = await fetch('/api/analytics/advanced/campaign', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    },
                    body: JSON.stringify({
                        campaignId: campaignId,
                        options: {
                            timeframe: '30d',
                            includeCompetitors: true,
                            includeTrends: true
                        }
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    displayAdvancedAnalytics(result.analysis);
                    showNotification('AI analysis complete! 🎉', 'success');
                } else {
                    showNotification(`Analysis failed: ${result.error}`, 'error');
                }
            } catch (error) {
                showNotification('Analysis error occurred', 'error');
                console.error('Advanced analytics error:', error);
            }
        }
        
        function displayAdvancedAnalytics(analysis) {
            const resultsDiv = document.getElementById('ai-analysis-results');
            resultsDiv.classList.remove('hidden');
            
            // Update performance score
            const scoreText = document.getElementById('performance-score-text');
            const statusText = document.getElementById('performance-status');
            
            if (scoreText && statusText) {
                scoreText.textContent = analysis.overview.performanceScore;
                statusText.textContent = getStatusText(analysis.overview.status);
                statusText.className = `text-xl font-bold ${getStatusColor(analysis.overview.status)}`;
            }
            
            // Update insights
            const insightsContent = document.getElementById('ai-insights-content');
            if (insightsContent) {
                insightsContent.innerHTML = '';
                
                if (analysis.insights && analysis.insights.summary) {
                    const insightDiv = document.createElement('div');
                    insightDiv.className = 'holographic-card p-4 rounded-2xl';
                    insightDiv.innerHTML = `
                        <h4 class="text-white font-bold mb-2">📊 Key Insights</h4>
                        <p class="text-gray-300 text-sm">${analysis.insights.summary}</p>
                    `;
                    insightsContent.appendChild(insightDiv);
                }
            }
            
            // Update predictions
            const predictionsContent = document.getElementById('ai-predictions-content');
            if (predictionsContent) {
                predictionsContent.innerHTML = '';
                
                if (analysis.predictions) {
                    Object.keys(analysis.predictions).forEach(predictionType => {
                        const prediction = analysis.predictions[predictionType];
                        const predictionDiv = document.createElement('div');
                        predictionDiv.className = 'holographic-card p-4 rounded-2xl';
                        predictionDiv.innerHTML = `
                            <h4 class="text-white font-bold mb-2">🔮 ${formatPredictionType(predictionType)}</h4>
                            <p class="text-gray-300 text-sm">${formatPrediction(prediction)}</p>
                            <div class="text-blue-400 text-xs mt-2">Confidence: ${Math.round((prediction.confidence || 0.8) * 100)}%</div>
                        `;
                        predictionsContent.appendChild(predictionDiv);
                    });
                }
            }
            
            // Update recommendations
            const recommendationsContent = document.getElementById('ai-recommendations-content');
            if (recommendationsContent) {
                recommendationsContent.innerHTML = '';
                
                if (analysis.recommendations) {
                    analysis.recommendations.slice(0, 5).forEach((rec, index) => {
                        const recDiv = document.createElement('div');
                        recDiv.className = 'holographic-card p-4 rounded-2xl';
                        recDiv.innerHTML = `
                            <div class="flex items-start">
                                <div class="w-8 h-8 rounded-full bg-gradient-to-r from-yellow-500 to-orange-600 flex items-center justify-center mr-4 flex-shrink-0">
                                    <span class="text-white text-sm font-bold">${index + 1}</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="text-white font-bold mb-1">${rec.action}</h4>
                                    <p class="text-gray-400 text-xs">Priority: ${rec.priority} | Category: ${rec.category}</p>
                                </div>
                            </div>
                        `;
                        recommendationsContent.appendChild(recDiv);
                    });
                }
            }
        }

        // --- SENTIMENT ANALYSIS FUNCTIONS ---
        
        async function analyzeBrandSentiment() {
            const brandInput = document.getElementById('brand-name-input');
            const brandName = brandInput.value.trim();
            
            if (!brandName) {
                showNotification('Please enter a brand name', 'warning');
                return;
            }
            
            showNotification('Analyzing brand sentiment... 💭', 'info');
            
            try {
                const response = await fetch('/api/analytics/sentiment/brand', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    },
                    body: JSON.stringify({
                        brandName: brandName,
                        options: {
                            sources: ['social', 'review', 'news'],
                            timeframe: '7d'
                        }
                    })
                });
                
                const result = await response.json();
                
                if (result.success !== false && result.sentiment) {
                    displaySentimentResults(result);
                    if (result.note) {
                        showNotification(`Sentiment analysis complete! ℹ️ ${result.note}`, 'info');
                    } else {
                    showNotification('Sentiment analysis complete! 📊', 'success');
                    }
                } else {
                    const errorMsg = result.error || 'Unknown error occurred';
                    showNotification(`Sentiment analysis failed: ${errorMsg}`, 'error');
                    // Still show fallback data if available
                    if (result.sentiment) {
                        displaySentimentResults(result);
                    }
                }
            } catch (error) {
                showNotification('Sentiment analysis error occurred', 'error');
                console.error('Sentiment analysis error:', error);
            }
        }
        
        function displaySentimentResults(result) {
            const resultsDiv = document.getElementById('sentiment-results');
            resultsDiv.classList.remove('hidden');
            
            const sentiment = result.sentiment;
            
            // Update overall sentiment
            const scoreElement = document.getElementById('sentiment-score');
            const labelElement = document.getElementById('sentiment-label');
            const confidenceElement = document.getElementById('sentiment-confidence');
            
            if (scoreElement && labelElement && confidenceElement) {
                scoreElement.textContent = sentiment.overall.score.toFixed(2);
                scoreElement.className = `text-6xl font-black mb-4 ${getSentimentColor(sentiment.overall.score)}`;
                
                labelElement.textContent = sentiment.overall.label.replace('_', ' ').toUpperCase();
                labelElement.className = `text-2xl font-bold mb-4 ${getSentimentColor(sentiment.overall.score)}`;
                
                confidenceElement.textContent = `Confidence: ${Math.round(sentiment.overall.confidence * 100)}%`;
            }
            
            // Update sentiment breakdown
            const breakdownDiv = document.getElementById('sentiment-breakdown');
            if (breakdownDiv) {
                breakdownDiv.innerHTML = '';
                
                if (sentiment.breakdown) {
                    Object.keys(sentiment.breakdown).forEach(category => {
                        const count = sentiment.breakdown[category];
                        const percentage = Math.round((count / sentiment.volume) * 100);
                        
                        const barDiv = document.createElement('div');
                        barDiv.className = 'space-y-2';
                        barDiv.innerHTML = `
                            <div class="flex justify-between items-center">
                                <span class="text-white font-semibold">${category.replace('_', ' ').toUpperCase()}</span>
                                <span class="text-gray-400">${count} (${percentage}%)</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full" style="width: ${percentage}%"></div>
                            </div>
                        `;
                        breakdownDiv.appendChild(barDiv);
                    });
                }
            }
            
            // Update recent mentions
            const mentionsDiv = document.getElementById('recent-mentions');
            if (mentionsDiv) {
                mentionsDiv.innerHTML = '';
                
                if (result.mentions && result.mentions.length > 0) {
                    result.mentions.slice(0, 10).forEach(mention => {
                        const mentionDiv = document.createElement('div');
                        mentionDiv.className = 'holographic-card p-3 rounded-xl';
                        
                        // Limit text length and add source info
                        const displayText = mention.text.length > 150 ? 
                            mention.text.substring(0, 150) + '...' : 
                            mention.text;
                            
                        const sourceIcon = mention.source === 'news' ? '📰' : 
                                         mention.source === 'reddit' ? '📱' : 
                                         mention.source === 'web' ? '🌐' : '💬';
                        
                        mentionDiv.innerHTML = `
                            <p class="text-gray-300 text-sm mb-2">"${displayText}"</p>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-500 text-xs">${sourceIcon} ${mention.platform || mention.source}</span>
                                <span class="text-gray-500 text-xs">${mention.author || 'Anonymous'}</span>
                            </div>
                        `;
                        mentionsDiv.appendChild(mentionDiv);
                    });
                } else {
                    mentionsDiv.innerHTML = `
                        <div class="text-center text-gray-400 py-4">
                            <p>🔍 No recent mentions found</p>
                            <p class="text-xs mt-1">Try expanding your search timeframe</p>
                        </div>
                    `;
                }
            }
            
            // Show analysis quality indicator
            const qualityIndicator = document.createElement('div');
            qualityIndicator.className = 'text-center mt-4 p-2 rounded-lg bg-gray-800/30';
            
            const confidence = sentiment.overall.confidence;
            let qualityText, qualityColor;
            
            if (confidence > 0.8) {
                qualityText = '⭐ High Quality Analysis';
                qualityColor = 'text-green-400';
            } else if (confidence > 0.6) {
                qualityText = '✅ Good Quality Analysis';
                qualityColor = 'text-blue-400';
            } else if (confidence > 0.4) {
                qualityText = '⚠️ Medium Quality Analysis';
                qualityColor = 'text-yellow-400';
            } else {
                qualityText = '❓ Limited Data Available';
                qualityColor = 'text-orange-400';
            }
            
            qualityIndicator.innerHTML = `
                <p class="${qualityColor} text-sm font-medium">${qualityText}</p>
                <p class="text-gray-500 text-xs mt-1">Based on ${result.sentiment.volume} mentions analyzed</p>
            `;
            
            // Add quality indicator after mentions
            if (mentionsDiv && mentionsDiv.parentNode) {
                const existingIndicator = mentionsDiv.parentNode.querySelector('.quality-indicator');
                if (existingIndicator) {
                    existingIndicator.remove();
                }
                qualityIndicator.className += ' quality-indicator';
                mentionsDiv.parentNode.appendChild(qualityIndicator);
            }
        }

        // --- ENHANCED VIDEO GENERATION FUNCTIONS ---
        
        function selectTemplate(template) {
            document.getElementById('video-template').value = template;
            showNotification(`Selected ${template.replace('_', ' ')} template`, 'info');
        }
        
        async function generateAIVideo() {
            const productName = document.getElementById('video-product-name').value.trim();
            const targetAudience = document.getElementById('video-target-audience').value.trim();
            const keyMessage = document.getElementById('video-key-message').value.trim();
            const cta = document.getElementById('video-cta').value.trim();
            const template = document.getElementById('video-template').value;
            const style = document.getElementById('video-style').value;
            
            if (!productName || !targetAudience || !keyMessage || !cta) {
                showNotification('Please fill in all required fields', 'warning');
                return;
            }
            
            // Show progress bar
            const progressDiv = document.getElementById('video-progress');
            progressDiv.classList.remove('hidden');
            
            try {
                const response = await fetch('/api/video/create-marketing-video', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    },
                    body: JSON.stringify({
                        productName,
                        targetAudience,
                        keyMessage,
                        callToAction: cta,
                        template,
                        style,
                        industry: getCurrentUser()?.industry || 'technology',
                        brandPersonality: style
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    showNotification('Video generation started! 🎬', 'success');
                    // Progress will be updated via Socket.IO
                } else {
                    showNotification(`Video generation failed: ${result.error}`, 'error');
                    progressDiv.classList.add('hidden');
                }
            } catch (error) {
                showNotification('Video generation error occurred', 'error');
                progressDiv.classList.add('hidden');
                console.error('Video generation error:', error);
            }
        }
        
        function updateVideoProgress(data) {
            const progressBar = document.getElementById('progress-bar');
            const progressPercentage = document.getElementById('progress-percentage');
            const progressStatus = document.getElementById('progress-status');
            const progressTime = document.getElementById('progress-time');
            
            if (progressBar && progressPercentage && progressStatus) {
                progressBar.style.width = `${data.progress}%`;
                progressPercentage.textContent = `${data.progress}%`;
                progressStatus.textContent = data.message || formatProgressStatus(data.status);
                
                if (data.estimatedTimeRemaining) {
                    const minutes = Math.ceil(data.estimatedTimeRemaining / 60);
                        progressTime.textContent = `ETA: ${minutes}m`;
                }
                
                    // Complete the video when done
                    if (data.progress === 100) {
                        showNotification('🎬 Video generation complete!', 'success');
                    setTimeout(() => {
                            showVideoResult(data);
                        }, 1000);
                    }
                }
            }
            
            function showVideoResult(data) {
                const progressDiv = document.getElementById('video-progress');
                
                // Get video URL from the response data
                const videoUrl = data.videoUrl || 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4';
                const downloadUrl = data.downloadUrl || videoUrl;
                
                // Update progress div to show video result
                progressDiv.innerHTML = `
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-white mb-4">🎬 Video Generated Successfully!</h3>
                        
                        <!-- Video Player -->
                        <div class="mb-6">
                            <video controls class="w-full max-w-2xl mx-auto rounded-xl shadow-2xl" poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 450'%3E%3Crect width='800' height='450' fill='%23667eea'/%3E%3Ctext x='400' y='225' text-anchor='middle' fill='white' font-size='48' font-family='Arial'%3E▶ AI Video%3C/text%3E%3C/svg%3E">
                                <source src="${videoUrl}" type="video/mp4">
                                <p class="text-gray-400">Your browser doesn't support HTML5 video. <a href="${downloadUrl}" class="text-blue-400">Download the video</a> instead.</p>
                            </video>
                        </div>
                        
                        <!-- Video Details -->
                        <div class="neon-glass-card p-4 rounded-xl mb-4 text-left">
                            <h4 class="text-white font-bold mb-2">📋 Video Details</h4>
                            <div class="text-sm text-gray-300 space-y-1">
                                <div><span class="text-blue-400">Status:</span> Generation Complete ✅</div>
                                <div><span class="text-blue-400">Duration:</span> ~15 seconds</div>
                                <div><span class="text-blue-400">Resolution:</span> 1280x720 HD</div>
                                <div><span class="text-blue-400">Format:</span> MP4</div>
                                <div><span class="text-blue-400">Generated:</span> ${new Date().toLocaleString()}</div>
                        </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="flex flex-wrap gap-4 justify-center">
                            <button onclick="downloadVideo('${downloadUrl}')" class="neon-btn px-6 py-3 font-bold rounded-xl">
                                <i class="fas fa-download mr-2"></i>Download Video
                            </button>
                            <button onclick="shareVideo()" class="neon-btn px-6 py-3 font-bold rounded-xl">
                                <i class="fas fa-share mr-2"></i>Share Video
                            </button>
                            <button onclick="generateNewVideo()" class="neon-btn px-6 py-3 font-bold rounded-xl">
                                <i class="fas fa-plus mr-2"></i>Generate Another
                            </button>
                            </div>
                        
                        <!-- Success Stats -->
                        <div class="mt-6 grid grid-cols-3 gap-4 text-center">
                            <div class="neon-glass-card p-3 rounded-xl">
                                <div class="text-green-400 text-2xl mb-1">✓</div>
                                <div class="text-xs text-gray-400">AI Enhanced</div>
                            </div>
                            <div class="neon-glass-card p-3 rounded-xl">
                                <div class="text-blue-400 text-2xl mb-1">🚀</div>
                                <div class="text-xs text-gray-400">HD Quality</div>
                            </div>
                            <div class="neon-glass-card p-3 rounded-xl">
                                <div class="text-purple-400 text-2xl mb-1">⚡</div>
                                <div class="text-xs text-gray-400">Fast Generation</div>
                        </div>
                    </div>
                </div>
            `;
            
                // Keep the result visible (don't hide it)
                progressDiv.classList.remove('hidden');
            }
            
            function downloadVideo(videoUrl) {
                try {
                    // Create temporary link and trigger download
                    const link = document.createElement('a');
                    link.href = videoUrl;
                    link.download = `ai-generated-video-${Date.now()}.mp4`;
                    link.target = '_blank';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    
                    showNotification('📥 Video download started!', 'success');
            } catch (error) {
                    showNotification('❌ Download failed. You can right-click the video to save it.', 'error');
                }
            }
            
            function shareVideo() {
                if (navigator.share) {
                    navigator.share({
                        title: 'AI Generated Video',
                        text: 'Check out this video I created with AI!',
                        url: window.location.href
                    });
        } else {
                    // Fallback: copy link to clipboard
                    navigator.clipboard.writeText(window.location.href).then(() => {
                        showNotification('🔗 Link copied to clipboard!', 'success');
                    }).catch(() => {
                        showNotification('📋 You can share this page URL', 'info');
                });
            }
        }
        
            function generateNewVideo() {
                // Hide the result and show the form again
                document.getElementById('video-progress').classList.add('hidden');
                showNotification('✨ Ready to create another video!', 'info');
            }
            
            function formatProgressStatus(status) {
                const statusMap = {
                    'initializing': 'Initializing AI systems...',
                    'processing': 'Processing video content...',
                    'generating': 'Generating video frames...',
                    'finalizing': 'Finalizing video output...',
                    'complete': 'Video generation complete!'
                };
                return statusMap[status] || status;
            }
            
            function getSentimentColor(score) {
                if (score >= 0.6) return 'text-green-400';
                if (score >= 0.4) return 'text-yellow-400';
                return 'text-red-400';
            }
            
            function getCurrentUser() {
                try {
                    return JSON.parse(localStorage.getItem('user'));
                } catch (error) {
                    return null;
                }
            }
            
            // Initialize everything when page loads
            console.log('🎉 All JavaScript functions loaded successfully!');
            
        </script>
        
        <!-- Socket.IO -->
        <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
        
        <script>
            // Initialize Socket.IO connection using existing socket variable
            if (!socket) {
                socket = io();
            }
            
            socket.on('connect', () => {
                console.log('🔗 Socket.IO connected');
            });
            
            socket.on('video_generation_progress', (data) => {
                updateVideoProgress(data);
            });
            
            console.log('🚀 OmniOrchestrator fully loaded and ready!');
    </script>
        
</body>
</html> 